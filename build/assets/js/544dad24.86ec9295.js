"use strict";(self.webpackChunkdocusaurus_admin_panel=self.webpackChunkdocusaurus_admin_panel||[]).push([[3909],{6565:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(6540),n=a(9582);a(4586);const i={adminWrapper:"adminWrapper_ApR1",loginContainer:"loginContainer_hkSZ",float:"float_dr3w",loginBox:"loginBox_LQtm",slideUp:"slideUp_KuZZ",loginHeader:"loginHeader_iLxr",loginForm:"loginForm_aH22",inputGroup:"inputGroup_ORW9",loginInput:"loginInput_iLMb",loginButton:"loginButton_RlyD",loginSpinner:"loginSpinner_mjSj",spin:"spin_TmhO",adminPanel:"adminPanel_yZD3",adminHeader:"adminHeader_eymb",adminTitle:"adminTitle_xPb5",logoutButton:"logoutButton_U_Sc",adminNav:"adminNav_JXSv",navButton:"navButton_kXn0",active:"active_iu4g",navIcon:"navIcon_yMWR",adminContent:"adminContent_oHXu",dashboardContainer:"dashboardContainer_Yb19",welcomeSection:"welcomeSection_rNeS",rotate:"rotate_PsOH",quickActions:"quickActions_uhfb",quickAction:"quickAction_hUd1",dashboardGrid:"dashboardGrid_rTLS",statCard:"statCard_ozDJ",statIcon:"statIcon_IaqG",statContent:"statContent_V7PC",statNumber:"statNumber_tBox",statChange:"statChange_Jn4n",tabContent:"tabContent_lUj3",tabHeader:"tabHeader_UHNJ",tabActions:"tabActions_PfAj",previewButton:"previewButton_urjn",addButton:"addButton_qbtc",primaryButton:"primaryButton_oHcu",saveButton:"saveButton_ulqw",cancelButton:"cancelButton_BWAo",loadingContainer:"loadingContainer_q5bw",loadingSpinner:"loadingSpinner_xx6X",spinner:"spinner_xI2U",loading:"loading_VpHe",errorMessage:"errorMessage_l8iH",errorIcon:"errorIcon_X6Z3",successMessage:"successMessage_nZLO",slideIn:"slideIn_Razo",successIcon:"successIcon_vrZ9",formContainer:"formContainer_IXCa",formHeader:"formHeader_HcAi",formGroup:"formGroup_mavW",inputField:"inputField_lHD1",textareaField:"textareaField_oXHl",inputHint:"inputHint_mkzi",checkboxLabel:"checkboxLabel_yxd0",itemsGrid:"itemsGrid_U352",itemCard:"itemCard_Yroh",itemMeta:"itemMeta_diFi",itemTags:"itemTags_W4ah",tag:"tag_LjDX",itemActions:"itemActions_cnKR",iconButton:"iconButton__ERL",viewButton:"viewButton_BXNW",editButton:"editButton_GLAG",deleteButton:"deleteButton_C23r",copyButton:"copyButton_Yy97",emptyState:"emptyState_TXuR",emptyIcon:"emptyIcon_yi2C",copyrightSection:"copyrightSection_POOV",formActions:"formActions_w55_",itemsList:"itemsList_SmK0",contentForm:"contentForm_Rw45",formRow:"formRow_pgEE",mediaGrid:"mediaGrid_erfw",mediaItem:"mediaItem_CJSQ",mediaPreview:"mediaPreview_tlVS",mediaImage:"mediaImage_lKYS",mediaVideo:"mediaVideo_eS_j",mediaPlaceholder:"mediaPlaceholder_Ilrz",fileIcon:"fileIcon_NbWi",fileType:"fileType_ANIz",mediaInfo:"mediaInfo_N9Jy",mediaName:"mediaName_H6ez",mediaSize:"mediaSize_Qf3U",mediaMeta:"mediaMeta_COYL",mediaPath:"mediaPath_vzMc",mediaActions:"mediaActions_X0ag",uploadSpinner:"uploadSpinner_qET7",mediaTips:"mediaTips_a5wQ",tipsGrid:"tipsGrid_MAqH",tip:"tip_e1PJ",authorsGrid:"authorsGrid_xsXp",authorCard:"authorCard_Jd2J",authorAvatar:"authorAvatar_uJYV",avatarPlaceholder:"avatarPlaceholder_Wapf",authorInfo:"authorInfo_z4sF",authorTitle:"authorTitle_cCLx",authorBio:"authorBio_F8Hy",docItem:"docItem_IWT4",docInfo:"docInfo_WglH",docPath:"docPath_FsI4",uploadSection:"uploadSection_N8Qb",categoriesGrid:"categoriesGrid_jwrk",categoryCard:"categoryCard_DHh1",categoryIcon:"categoryIcon_gOyh",categoryInfo:"categoryInfo_mtHQ",categorySlug:"categorySlug_StB4",categoryDesc:"categoryDesc_JxtM",categoryCount:"categoryCount_tkAe",categoryActions:"categoryActions_Hafg",categoryActionBtn:"categoryActionBtn_z81l",deleteBtn:"deleteBtn_JT3Y",settingsLayout:"settingsLayout_MjJY",settingsSidebar:"settingsSidebar_z4dU",settingsTab:"settingsTab_r3k5",settingsContent:"settingsContent_p3xp",settingsSection:"settingsSection_Gen5",faviconControls:"faviconControls_dCIe",socialImageControls:"socialImageControls_cWjy",modeSelector:"modeSelector_MRjl",radioLabel:"radioLabel_ALD4",uploadArea:"uploadArea__fjK",uploadIcon:"uploadIcon_TvI8",uploadText:"uploadText_Dq8l",presetGrid:"presetGrid_XmP4",presetOption:"presetOption__CFq",selected:"selected_Ljux",presetFavicon:"presetFavicon_nOg5",presetSocialImage:"presetSocialImage_lzGD",faviconPreview:"faviconPreview_w58E",socialImagePreview:"socialImagePreview_JSzk",previewContainer:"previewContainer_d0J4",faviconPreviewImage:"faviconPreviewImage_e6Sf",socialImagePreviewImage:"socialImagePreviewImage_E_uj",faviconError:"faviconError_K8YC",socialImageError:"socialImageError_le9W",actionButton:"actionButton_eyzv",menuTabs:"menuTabs_vkpa",menuTab:"menuTab_Rr9j",menuItems:"menuItems_DVZg",menuItem:"menuItem_fJVt",menuDragHandle:"menuDragHandle_ZXA5",menuItemInfo:"menuItemInfo_q_44",menuItemUrl:"menuItemUrl_sVBB",appearanceLayout:"appearanceLayout_PfgQ",appearanceSidebar:"appearanceSidebar__JIf",appearanceTab:"appearanceTab_Shzl",appearanceContent:"appearanceContent_SR35",colorGrid:"colorGrid_YqUy",colorGroup:"colorGroup_mt8A",colorInput:"colorInput_NeSg",colorPicker:"colorPicker_fIta",colorValue:"colorValue_WpBt",logoPreview:"logoPreview_hF7E",previewLogo:"previewLogo_QnNn",logoPlaceholder:"logoPlaceholder_Pqa4",loginHints:"loginHints_Aspy",hintsToggle:"hintsToggle_mK0Y",hintsContent:"hintsContent_QJ9S",credentialHint:"credentialHint_Nxkf",securityNote:"securityNote_oR0n",retryButton:"retryButton_QMoV",guideCard:"guideCard_uAPU",guideHeader:"guideHeader_JFK2",guideIcon:"guideIcon_XKYu",guideInfo:"guideInfo_FEKS",expandIcon:"expandIcon_LMQ7",guideContent:"guideContent_Uu5E",guideSteps:"guideSteps_OhCp",guideStep:"guideStep_o2Cx",dashboardHeader:"dashboardHeader_gl3D",statsSection:"statsSection_Lx1l",guidesSection:"guidesSection_Gsj4",recentActivity:"recentActivity_f6a2",statHint:"statHint_ouls",guidesGrid:"guidesGrid_LLOT",tipsSection:"tipsSection_bKKH",tipsList:"tipsList_LCLU",actionButtons:"actionButtons_tFih",previewToggle:"previewToggle_AK1a",inputError:"inputError_VDvy",errorText:"errorText_D4ss",contentStats:"contentStats_IX0D",statusGroup:"statusGroup_lRon",publishedStatus:"publishedStatus_SB9g",draftStatus:"draftStatus_wsDw",markdownHint:"markdownHint_CbZB",saveSpinner:"saveSpinner_oNq4",previewHeader:"previewHeader_yaPN",previewMeta:"previewMeta_Z9fl",previewTags:"previewTags_BAm9",previewTag:"previewTag_SrhC",previewContent:"previewContent_gDvK",emptyPreview:"emptyPreview_NGj_",actionBtn:"actionBtn_CYmR",activityList:"activityList_zzWI",activityItem:"activityItem_Qmks",activityIcon:"activityIcon_b7hn",activityContent:"activityContent_LrDY",activityTime:"activityTime_Vn4o",emptyActivity:"emptyActivity_hREd",systemHealth:"systemHealth_CoPV",healthGrid:"healthGrid_wNMZ",healthItem:"healthItem_foMI",healthIcon:"healthIcon_nqXW",navigationList:"navigationList_ZyDI",navigationHeader:"navigationHeader_W3JZ",navigationGuide:"navigationGuide_OO15",guideText:"guideText_QK_4",navigationItem:"navigationItem_AKLe",navItemContent:"navItemContent_MPgX",navItemInfo:"navItemInfo_RGe6",navItemHeader:"navItemHeader_7X_7",navItemLabel:"navItemLabel_q0By",navItemType:"navItemType_XBET",navItemUrl:"navItemUrl_xrK2",navItemBadge:"navItemBadge_t2D2",navItemActions:"navItemActions_rRkr",navItemEditor:"navItemEditor_by7q",editorActions:"editorActions_Ei8U",navigationActions:"navigationActions_t0rc",formOverlay:"formOverlay_VqDl",formModal:"formModal_FjDa",modalSlideIn:"modalSlideIn_gmoN",modalHeader:"modalHeader_Bb76",closeButton:"closeButton_tcM_",modalActions:"modalActions_nKgb",themeGrid:"themeGrid_yHbV",themeCard:"themeCard_HvnY",themeName:"themeName_mn8A",themeDescription:"themeDescription_aLtY",colorSection:"colorSection_NIlk",buttonGroup:"buttonGroup_EgaD",resetButton:"resetButton_y7E9",logoPreviewImage:"logoPreviewImage_dkWw",logoError:"logoError_paJU",titlePreview:"titlePreview_lH1F",positionControl:"positionControl_gz7u",positionButtons:"positionButtons_H62y",positionBtn:"positionBtn_VIWL",filterSection:"filterSection_LUgc",selectField:"selectField_KN3W",docsStats:"docsStats_KHoq",statItem:"statItem_b5ae",categorySection:"categorySection_YM5Y",categoryHeader:"categoryHeader_uPnX",categoryDocs:"categoryDocs_V8v6",positionControls:"positionControls_T6ZP",positionArrow:"positionArrow_UMx7",disabled:"disabled_iIrv",positionInfo:"positionInfo_bhaf",docItemActions:"docItemActions_xV1z",documentItem:"documentItem_yGeF",categoryManagement:"categoryManagement_LV1x",managementHeader:"managementHeader_M9xh",managementSubtext:"managementSubtext_ZU7u",categoryGrid:"categoryGrid_N4yA",categoryCardHeader:"categoryCardHeader_Lvi3",slideInUp:"slideInUp_ubAJ",sectionTabs:"sectionTabs_N7d2",sectionTab:"sectionTab_x2Xe",activeSectionTab:"activeSectionTab_RKIi",sectionHeader:"sectionHeader_MaQg",footerGroups:"footerGroups_c9NB",footerGroup:"footerGroup_L44t",footerGroupEditor:"footerGroupEditor_f_9n",groupHeader:"groupHeader_zt2I",groupTitleInput:"groupTitleInput_XIzy",groupActions:"groupActions_K7E4",groupItems:"groupItems_lPmM",footerItem:"footerItem_nCeL",footerItemForm:"footerItemForm_dmmW",footerItemEditor:"footerItemEditor_ikEO",itemInput:"itemInput_J_Mi",itemLabel:"itemLabel_mILp",itemUrl:"itemUrl_djQV",emptyItems:"emptyItems_WRaE",addItemButton:"addItemButton_HVls",removeItemButton:"removeItemButton_CufU",deleteItemButton:"deleteItemButton_CWh2",itemsHeader:"itemsHeader_C5Rm",hintText:"hintText_Ohs_",logoModeSelector:"logoModeSelector_rApj",modeButton:"modeButton_BMYN",presetImage:"presetImage_5y6i",presetError:"presetError_aU1q",uploadButton:"uploadButton_dHIx",imageInfo:"imageInfo_ZXBS",cookieConsentPanel:"cookieConsentPanel_VSE2",cookieSection:"cookieSection_pNiE",sectionDescription:"sectionDescription_kEdR",requiredCategory:"requiredCategory_dnCA",requiredBadge:"requiredBadge_PVh8",categoryToggle:"categoryToggle_Vffn",toggleInput:"toggleInput_H5hh",toggleSlider:"toggleSlider_yHrm",toggleDisabled:"toggleDisabled_yVD8",categoryContent:"categoryContent_EJet",categoryDescription:"categoryDescription_F2ko",previewActions:"previewActions_CyzN",statsGrid:"statsGrid_O7GD",statValue:"statValue_RskB",statLabel:"statLabel_UNvp"};var o=a(4848);const l=(0,s.createContext)();function r({children:e}){const[t,a]=(0,s.useState)(!1),[n,i]=(0,s.useState)(null),[r,c]=(0,s.useState)(!0);(0,s.useEffect)((()=>{const e=localStorage.getItem("adminToken");e?fetch("/api/admin/verify",{headers:{Authorization:`Bearer ${e}`}}).then((e=>e.json())).then((e=>{e.valid?(a(!0),i(e.user)):localStorage.removeItem("adminToken"),c(!1)})).catch((()=>{localStorage.removeItem("adminToken"),c(!1)})):c(!1)}),[]);return(0,o.jsx)(l.Provider,{value:{isAuthenticated:t,user:n,loading:r,login:async(e,t)=>{try{const s=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),n=await s.json();return s.ok?(localStorage.setItem("adminToken",n.token),a(!0),i(n.user),{success:!0}):{success:!1,error:n.error}}catch(s){return{success:!1,error:"Network error"}}},logout:()=>{localStorage.removeItem("adminToken"),a(!1),i(null)}},children:e})}function c(e){return{essential:"\ud83d\udd27",analytics:"\ud83d\udcca",marketing:"\ud83c\udfaf",functional:"\u2699\ufe0f"}[e]||"\ud83c\udf6a"}function d({message:e="Loading..."}){return(0,o.jsxs)("div",{className:i.loadingSpinner,children:[(0,o.jsx)("div",{className:i.spinner,children:"\u23f3"}),(0,o.jsx)("span",{children:e})]})}function m({message:e,onRetry:t}){return(0,o.jsxs)("div",{className:i.errorMessage,children:[(0,o.jsx)("div",{className:i.errorIcon,children:"\u26a0\ufe0f"}),(0,o.jsx)("span",{children:e}),t&&(0,o.jsx)("button",{onClick:t,className:i.retryButton,children:"\ud83d\udd04 Retry"})]})}function u({message:e,onClose:t}){return(0,s.useEffect)((()=>{if(t){const e=setTimeout(t,4e3);return()=>clearTimeout(e)}}),[t]),(0,o.jsxs)("div",{className:i.successMessage,children:[(0,o.jsx)("div",{className:i.successIcon,children:"\u2705"}),(0,o.jsx)("span",{children:e})]})}function h(){const[e,t]=(0,s.useState)(""),[a,n]=(0,s.useState)(""),[r,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)(!1),{login:g}=(0,s.useContext)(l);return(0,o.jsx)("div",{className:i.loginContainer,children:(0,o.jsxs)("div",{className:i.loginBox,children:[(0,o.jsxs)("div",{className:i.loginHeader,children:[(0,o.jsx)("h2",{children:"\ud83d\udd10 Docusaurus Admin"}),(0,o.jsx)("p",{children:"Manage your Docusaurus site with ease"})]}),(0,o.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),u(!0),c("");const s=await g(e,a);s.success||c(s.error),u(!1)},className:i.loginForm,children:[(0,o.jsxs)("div",{className:i.inputGroup,children:[(0,o.jsx)("label",{children:"Username"}),(0,o.jsx)("input",{type:"text",placeholder:"Enter username",value:e,onChange:e=>t(e.target.value),className:i.loginInput,required:!0})]}),(0,o.jsxs)("div",{className:i.inputGroup,children:[(0,o.jsx)("label",{children:"Password"}),(0,o.jsx)("input",{type:"password",placeholder:"Enter password",value:a,onChange:e=>n(e.target.value),className:i.loginInput,required:!0})]}),r&&(0,o.jsx)(m,{message:r,onRetry:()=>c("")}),(0,o.jsx)("button",{type:"submit",disabled:d,className:i.loginButton,children:d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.loginSpinner,children:"\u23f3"}),"Signing in..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:"\ud83d\ude80"}),"Sign In"]})})]}),(0,o.jsxs)("div",{className:i.loginHints,children:[(0,o.jsxs)("button",{type:"button",className:i.hintsToggle,onClick:()=>p(!h),children:[h?"\ud83d\udcd6":"\ud83d\udca1"," ",h?"Hide":"Show"," Login Help"]}),h&&(0,o.jsxs)("div",{className:i.hintsContent,children:[(0,o.jsx)("h4",{children:"\ud83d\udd11 Default Credentials"}),(0,o.jsxs)("div",{className:i.credentialHint,children:[(0,o.jsx)("strong",{children:"Username:"})," ",(0,o.jsx)("code",{children:"admin"}),(0,o.jsx)("br",{}),(0,o.jsx)("strong",{children:"Password:"})," ",(0,o.jsx)("code",{children:"admin123"})]}),(0,o.jsxs)("p",{className:i.securityNote,children:["\u26a0\ufe0f ",(0,o.jsx)("strong",{children:"Security Note:"})," Change these credentials in production by setting",(0,o.jsx)("code",{children:"ADMIN_USERNAME"})," and ",(0,o.jsx)("code",{children:"ADMIN_PASSWORD"})," environment variables."]})]})]})]})})}function p(){const{user:e,logout:t}=(0,s.useContext)(l),[a,n]=(0,s.useState)("dashboard"),[r,c]=(0,s.useState)(null);(0,s.useEffect)((()=>{d();const e=e=>{n(e.detail)};return window.addEventListener("switchTab",e),()=>{window.removeEventListener("switchTab",e)}}),[]);const d=async()=>{try{const e=localStorage.getItem("adminToken"),t=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${e}`}}),a=await t.json();c(a)}catch(e){console.error("Failed to fetch stats:",e)}};return(0,o.jsxs)("div",{className:i.adminPanel,children:[(0,o.jsxs)("div",{className:i.adminHeader,children:[(0,o.jsxs)("div",{className:i.adminTitle,children:[(0,o.jsx)("h1",{children:"\ud83d\udccb Docusaurus Admin Panel"}),(0,o.jsxs)("span",{children:["Welcome, ",e?.username]})]}),(0,o.jsx)("button",{onClick:t,className:i.logoutButton,children:"Logout"})]}),(0,o.jsx)("div",{className:i.adminNav,children:[{id:"dashboard",label:"Dashboard",icon:"\ud83d\udcca"},{id:"blogs",label:"Blog Posts",icon:"\ud83d\udcdd"},{id:"docs",label:"Documentation",icon:"\ud83d\udcda"},{id:"pages",label:"Pages",icon:"\ud83d\udcc4"},{id:"media",label:"Media",icon:"\ud83d\uddbc\ufe0f"},{id:"authors",label:"Authors",icon:"\ud83d\udc65"},{id:"categories",label:"Categories",icon:"\ud83c\udff7\ufe0f"},{id:"menus",label:"Navigation",icon:"\ud83e\udded"},{id:"appearance",label:"Appearance",icon:"\ud83c\udfa8"},{id:"settings",label:"Settings",icon:"\u2699\ufe0f"}].map((e=>(0,o.jsxs)("button",{onClick:()=>n(e.id),className:`${i.navButton} ${a===e.id?i.active:""}`,children:[(0,o.jsx)("span",{className:i.navIcon,children:e.icon}),e.label]},e.id)))}),(0,o.jsxs)("div",{className:i.adminContent,children:["dashboard"===a&&(0,o.jsx)(g,{stats:r}),"blogs"===a&&(0,o.jsx)(x,{}),"docs"===a&&(0,o.jsx)(v,{}),"pages"===a&&(0,o.jsx)(k,{}),"media"===a&&(0,o.jsx)(N,{}),"authors"===a&&(0,o.jsx)(f,{}),"categories"===a&&(0,o.jsx)(I,{}),"menus"===a&&(0,o.jsx)(F,{}),"appearance"===a&&(0,o.jsx)(D,{}),"settings"===a&&(0,o.jsx)(M,{})]})]})}function g({stats:e}){const[t,a]=(0,s.useState)([]),[n,l]=(0,s.useState)(null);(0,s.useEffect)((()=>{r(),c()}),[]);const r=async()=>{try{const e=localStorage.getItem("adminToken"),t=await fetch("/api/admin/quick-stats",{headers:{Authorization:`Bearer ${e}`}}),a=await t.json();l(a)}catch(e){console.error("Failed to fetch quick stats:",e)}},c=async()=>{try{const e=localStorage.getItem("adminToken"),t=await fetch("/api/admin/recent-activity",{headers:{Authorization:`Bearer ${e}`}}),s=await t.json();a(s)}catch(e){console.error("Failed to fetch recent activity:",e)}};return(0,o.jsxs)("div",{className:i.dashboardContainer,children:[(0,o.jsxs)("div",{className:i.welcomeSection,children:[(0,o.jsx)("h2",{children:"\ud83d\udc4b Welcome to your Docusaurus Admin Panel"}),(0,o.jsx)("p",{children:"Manage your entire documentation site from this comprehensive dashboard"})]}),(0,o.jsxs)("div",{className:i.dashboardGrid,children:[(0,o.jsxs)("div",{className:i.statCard,children:[(0,o.jsx)("div",{className:i.statIcon,children:"\ud83d\udcdd"}),(0,o.jsxs)("div",{className:i.statContent,children:[(0,o.jsx)("h3",{children:"Blog Posts"}),(0,o.jsx)("p",{className:i.statNumber,children:e?.blogs||0}),(0,o.jsxs)("span",{className:i.statChange,children:["+",n?.newBlogs||0," this week"]})]})]}),(0,o.jsxs)("div",{className:i.statCard,children:[(0,o.jsx)("div",{className:i.statIcon,children:"\ud83d\udcda"}),(0,o.jsxs)("div",{className:i.statContent,children:[(0,o.jsx)("h3",{children:"Documentation"}),(0,o.jsx)("p",{className:i.statNumber,children:e?.docs||0}),(0,o.jsxs)("span",{className:i.statChange,children:["+",n?.newDocs||0," this week"]})]})]}),(0,o.jsxs)("div",{className:i.statCard,children:[(0,o.jsx)("div",{className:i.statIcon,children:"\ud83d\udc65"}),(0,o.jsxs)("div",{className:i.statContent,children:[(0,o.jsx)("h3",{children:"Authors"}),(0,o.jsx)("p",{className:i.statNumber,children:e?.authors||0}),(0,o.jsx)("span",{className:i.statChange,children:"Active contributors"})]})]}),(0,o.jsxs)("div",{className:i.statCard,children:[(0,o.jsx)("div",{className:i.statIcon,children:"\ud83d\uddbc\ufe0f"}),(0,o.jsxs)("div",{className:i.statContent,children:[(0,o.jsx)("h3",{children:"Media Files"}),(0,o.jsx)("p",{className:i.statNumber,children:e?.media||0}),(0,o.jsxs)("span",{className:i.statChange,children:[n?.mediaSize||"0 MB"," total"]})]})]})]}),(0,o.jsxs)("div",{className:i.quickActions,children:[(0,o.jsx)("h3",{children:"\ud83d\ude80 Quick Actions"}),(0,o.jsxs)("div",{className:i.actionButtons,children:[(0,o.jsxs)("button",{className:i.actionBtn,onClick:()=>window.dispatchEvent(new CustomEvent("switchTab",{detail:"blogs"})),children:[(0,o.jsx)("span",{children:"\ud83d\udcdd"})," New Blog Post"]}),(0,o.jsxs)("button",{className:i.actionBtn,onClick:()=>window.dispatchEvent(new CustomEvent("switchTab",{detail:"docs"})),children:[(0,o.jsx)("span",{children:"\ud83d\udcda"})," New Documentation"]}),(0,o.jsxs)("button",{className:i.actionBtn,onClick:()=>window.dispatchEvent(new CustomEvent("switchTab",{detail:"media"})),children:[(0,o.jsx)("span",{children:"\ud83d\uddbc\ufe0f"})," Upload Media"]}),(0,o.jsxs)("button",{className:i.actionBtn,onClick:()=>window.dispatchEvent(new CustomEvent("switchTab",{detail:"authors"})),children:[(0,o.jsx)("span",{children:"\ud83d\udc65"})," Add Author"]})]})]}),(0,o.jsxs)("div",{className:i.recentActivity,children:[(0,o.jsx)("h3",{children:"\ud83d\udcc8 Recent Activity"}),(0,o.jsx)("div",{className:i.activityList,children:0===t.length?(0,o.jsx)("p",{className:i.emptyActivity,children:"No recent activity. Start creating content!"}):t.map(((e,t)=>(0,o.jsxs)("div",{className:i.activityItem,children:[(0,o.jsx)("div",{className:i.activityIcon,children:e.icon}),(0,o.jsxs)("div",{className:i.activityContent,children:[(0,o.jsx)("p",{children:e.message}),(0,o.jsx)("span",{className:i.activityTime,children:e.time})]})]},t)))})]}),(0,o.jsxs)("div",{className:i.systemHealth,children:[(0,o.jsx)("h3",{children:"\ud83d\udc9a System Health"}),(0,o.jsxs)("div",{className:i.healthGrid,children:[(0,o.jsxs)("div",{className:i.healthItem,children:[(0,o.jsx)("span",{className:i.healthIcon,children:"\ud83d\udfe2"}),(0,o.jsx)("span",{children:"Server Status: Online"})]}),(0,o.jsxs)("div",{className:i.healthItem,children:[(0,o.jsx)("span",{className:i.healthIcon,children:"\ud83d\udfe2"}),(0,o.jsx)("span",{children:"File System: Accessible"})]}),(0,o.jsxs)("div",{className:i.healthItem,children:[(0,o.jsx)("span",{className:i.healthIcon,children:"\ud83d\udfe2"}),(0,o.jsx)("span",{children:"Media Upload: Working"})]}),(0,o.jsxs)("div",{className:i.healthItem,children:[(0,o.jsx)("span",{className:i.healthIcon,children:"\ud83d\udfe2"}),(0,o.jsx)("span",{children:"Content Sync: Active"})]})]})]})]})}function x(){const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!0),[l,r]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null);(0,s.useEffect)((()=>{m()}),[]);const m=async()=>{try{const e=localStorage.getItem("adminToken"),a=await fetch("/api/admin/blogs",{headers:{Authorization:`Bearer ${e}`}}),s=await a.json();t(s),n(!1)}catch(e){console.error("Failed to fetch blogs:",e),n(!1)}};return a?(0,o.jsx)("div",{className:i.loading,children:"Loading blogs..."}):(0,o.jsxs)("div",{className:i.tabContent,children:[(0,o.jsxs)("div",{className:i.tabHeader,children:[(0,o.jsx)("h2",{children:"\ud83d\udcdd Blog Management"}),(0,o.jsxs)("div",{className:i.tabActions,children:[(0,o.jsx)("button",{className:i.addButton,onClick:()=>{r(!0),d(null)},children:"\u2795 New Post"}),(0,o.jsx)("a",{href:"/blog",target:"_blank",rel:"noopener noreferrer",className:i.previewButton,children:"\ud83d\udc41\ufe0f Preview Blog"})]})]}),l?(0,o.jsx)(C,{blog:c,onSave:()=>{r(!1),m()},onCancel:()=>r(!1)}):(0,o.jsx)("div",{className:i.itemsGrid,children:0===e.length?(0,o.jsx)("div",{className:i.emptyState,children:(0,o.jsx)("p",{children:"No blog posts yet. Create your first post!"})}):e.map((e=>(0,o.jsxs)("div",{className:i.itemCard,children:[(0,o.jsx)("h3",{children:e.title}),(0,o.jsxs)("p",{className:i.itemMeta,children:["By ",e.author," \u2022 ",new Date(e.date).toLocaleDateString()]}),(0,o.jsx)("div",{className:i.itemTags,children:e.tags?.map((e=>(0,o.jsx)("span",{className:i.tag,children:e},e)))}),(0,o.jsxs)("div",{className:i.itemActions,children:[(0,o.jsx)("a",{href:e.slug?`/blog/${e.slug}`:`/blog/${e.id||e.title?.toLowerCase().replace(/\s+/g,"-")}`,target:"_blank",rel:"noopener noreferrer",className:i.viewButton,title:"Preview Blog Post",children:"\ud83d\udc41\ufe0f View"}),(0,o.jsx)("button",{onClick:()=>(e=>{d(e),r(!0)})(e),className:i.editButton,children:"\u270f\ufe0f Edit"}),(0,o.jsx)("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this blog post?"))try{const t=localStorage.getItem("adminToken");await fetch(`/api/admin/blogs/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}),m()}catch(t){console.error("Failed to delete blog:",t)}})(e.id),className:i.deleteButton,children:"\ud83d\uddd1\ufe0f Delete"})]})]},e.id)))})]})}function v(){const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[l,r]=(0,s.useState)(!0),[c,h]=(0,s.useState)(!1),[p,g]=(0,s.useState)(null),[x,v]=(0,s.useState)(""),[N,f]=(0,s.useState)(""),[b,C]=(0,s.useState)("all");(0,s.useEffect)((()=>{S(),k()}),[]);const S=async()=>{try{const e=localStorage.getItem("adminToken"),a=await fetch("/api/admin/docs",{headers:{Authorization:`Bearer ${e}`}}),s=await a.json();console.log("\ud83d\udd0d DEBUG - Documents received:",s.map((e=>({title:e.title,category:e.category})))),t(s)}catch(N){console.error("Failed to fetch docs:",N),f("Failed to load documentation")}finally{r(!1)}},k=async()=>{try{const e=localStorage.getItem("adminToken"),t=await fetch("/api/admin/categories",{headers:{Authorization:`Bearer ${e}`}}),a=await t.json();console.log("\ud83d\udd0d DEBUG - Categories received:",a.categories);const s=(a.categories||[]).filter((e=>e&&e.id));console.log("\ud83d\udd0d DEBUG - Valid categories after filtering:",s),n(s)}catch(N){console.error("Failed to fetch categories:",N),n([])}},w=async t=>{if(!confirm("Are you sure you want to delete this document?"))return;const a=e.find((e=>e.id===t));if(a)try{const e=localStorage.getItem("adminToken"),n=encodeURIComponent(t);console.log(`\ud83d\uddd1\ufe0f DELETE Document: ID=${t}, encodedID=${n}, filePath=${a.filePath}`);const i=await fetch(`/api/admin/docs/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({filePath:a.filePath})});if(i.ok)S(),v("Document deleted successfully!"),setTimeout((()=>v("")),3e3);else{const e=await i.text();let t;console.error("\u274c Delete response error:",e);try{t=JSON.parse(e).error||"Failed to delete document"}catch(s){t=e.includes("<!DOCTYPE")?"Server returned HTML instead of JSON - check server logs":e}f(t)}}catch(N){console.error("Failed to delete doc:",N),f("Failed to delete document")}else f("Document not found")},I=async(t,a,s)=>{console.log("\ud83d\udd04 SIMPLE Frontend: Moving document with filePath");const n=e.find((e=>e.id===t));if(!n)return console.error(`\u274c Document not found: ${t}`),f("Document not found"),void setTimeout((()=>f("")),3e3);console.log("\ud83d\udcc4 Document found:",n),console.log(`\ufffd Using filePath: ${n.filePath}`);try{const e=localStorage.getItem("adminToken"),t=await fetch("/api/admin/docs/move-position",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({filePath:n.filePath,direction:a})});if(console.log(`\ud83d\udce1 API response status: ${t.status}`),t.ok){const e=await t.json();console.log("\u2705 Success response:",e),S(),v(`Document moved ${a} successfully!`),setTimeout((()=>v("")),2e3)}else{const e=await t.json();console.error("\u274c API error:",e),f(e.error||"Failed to move document"),setTimeout((()=>f("")),4e3)}}catch(N){console.error("\u274c Frontend error:",N),f("Failed to move document position"),setTimeout((()=>f("")),3e3)}},_="all"===b?e:"uncategorized"===b?e.filter((e=>!e.category||""===e.category)):e.filter((e=>{if(!e.category)return!1;const t=a.find((e=>e&&e.id===b));if(!t)return!1;if(e.category===b)return!0;if(t.name&&e.category===t.name)return!0;const s=e=>e?.toLowerCase().replace(/[\s\-]/g,""),n=s(e.category),i=s(b),o=s(t.name);return n===i||n===o}));return l?(0,o.jsx)(d,{message:"Loading documentation..."}):(0,o.jsxs)("div",{className:i.tabContent,children:[(0,o.jsxs)("div",{className:i.tabHeader,children:[(0,o.jsx)("h2",{children:"\ud83d\udcda Documentation Management"}),(0,o.jsxs)("div",{className:i.tabActions,children:[(0,o.jsx)("button",{className:i.addButton,onClick:()=>{h(!0),g(null)},children:"\u2795 New Document"}),(0,o.jsx)("a",{href:"/docs",target:"_blank",rel:"noopener noreferrer",className:i.previewButton,children:"\ud83d\udc41\ufe0f Preview Docs"})]})]}),x&&(0,o.jsx)(u,{message:x,onClose:()=>v("")}),N&&(0,o.jsx)(m,{message:N,onRetry:()=>f("")}),c?(0,o.jsx)(y,{doc:p,categories:a,docs:e,onSave:()=>{h(!1),S(),k(),v("Document saved successfully!"),setTimeout((()=>v("")),3e3)},onCancel:()=>h(!1)}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:i.docsToolbar,children:[(0,o.jsxs)("div",{className:i.filterSection,children:[(0,o.jsx)("label",{children:"\ud83d\udcc2 Filter by Category:"}),(0,o.jsxs)("select",{value:b,onChange:e=>C(e.target.value),className:i.selectField,children:[(0,o.jsxs)("option",{value:"all",children:["All Categories (",e.length,")"]}),a.filter((e=>e&&e.id)).map((t=>{const a=e.filter((e=>{if(!e.category)return!1;if(e.category===t.id)return!0;if(e.category===t.name)return!0;const a=e=>e?.toLowerCase().replace(/[\s\-]/g,""),s=a(e.category),n=a(t.id),i=a(t.name);return s===n||s===i}));return(0,o.jsxs)("option",{value:t.id,children:[t.name||t.label," (",a.length,")"]},t.id)})),(0,o.jsxs)("option",{value:"uncategorized",children:["Uncategorized (",e.filter((e=>!e.category||""===e.category)).length,")"]})]})]}),(0,o.jsxs)("div",{className:i.docsStats,children:[(0,o.jsxs)("span",{className:i.statItem,children:["\ud83d\udcc4 ",e.length," Total Docs"]}),(0,o.jsxs)("span",{className:i.statItem,children:["\ud83d\udcc2 ",a.length," Categories"]})]})]}),(0,o.jsxs)("div",{className:i.categoryManagement,children:[(0,o.jsxs)("div",{className:i.managementHeader,children:[(0,o.jsx)("h3",{children:"\ud83c\udff7\ufe0f Category Management"}),(0,o.jsx)("span",{className:i.managementSubtext,children:"Organize your documentation"})]}),(0,o.jsx)("div",{className:i.categoryGrid,children:a.filter((e=>e&&e.id)).map((t=>{const a=e.filter((e=>{if(!e.category)return!1;if(e.category===t.id)return!0;if(e.category===t.name)return!0;const a=e=>e?.toLowerCase().replace(/[\s\-]/g,""),s=a(e.category),n=a(t.id),i=a(t.name);return s===n||s===i}));return(0,o.jsxs)("div",{className:i.categoryCard,children:[(0,o.jsxs)("div",{className:i.categoryCardHeader,children:[(0,o.jsx)("div",{className:i.categoryIcon,children:"\ud83d\udcc1"}),(0,o.jsxs)("div",{className:i.categoryInfo,children:[(0,o.jsx)("h4",{children:t.name||t.label}),(0,o.jsxs)("span",{className:i.categoryCount,children:[a.length," document",1!==a.length?"s":""]})]})]}),(0,o.jsxs)("div",{className:i.categoryActions,children:[(0,o.jsx)("button",{className:i.categoryActionBtn,onClick:()=>C(t.id),title:"View Category",children:"\ud83d\udc41\ufe0f View"}),0===a.length&&(0,o.jsx)("button",{className:`${i.categoryActionBtn} ${i.deleteBtn}`,onClick:()=>(async e=>{if(confirm(`Are you sure you want to delete the category "${e}"? This will only delete the category folder if it's empty.`))try{const t=localStorage.getItem("adminToken"),a=await fetch(`/api/admin/categories/${encodeURIComponent(e)}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(a.ok)k(),S(),v(`Category "${e}" deleted successfully!`),setTimeout((()=>v("")),3e3);else{const e=await a.json();f(e.error||"Failed to delete category"),setTimeout((()=>f("")),5e3)}}catch(N){console.error("Failed to delete category:",N),f("Failed to delete category"),setTimeout((()=>f("")),3e3)}})(t.id),title:"Delete Empty Category",children:"\ud83d\uddd1\ufe0f Delete"})]})]},t.id)}))})]}),(0,o.jsx)("div",{className:i.itemsList,children:0===_.length?(0,o.jsxs)("div",{className:i.emptyState,children:[(0,o.jsx)("div",{className:i.emptyIcon,children:"\ud83d\udcda"}),(0,o.jsx)("h3",{children:"No Documents Found"}),(0,o.jsx)("p",{children:"all"===b?"Create your first documentation to get started.":`No documents in ${"uncategorized"===b?"Uncategorized":a.find((e=>e&&e.id===b))?.name||a.find((e=>e&&e.id===b))?.label||b} category.`}),(0,o.jsx)("button",{className:i.primaryButton,onClick:()=>{h(!0),g(null)},children:"\u2795 Create First Document"})]}):(0,o.jsxs)(o.Fragment,{children:["all"===b&&a.map((t=>{const a=e.filter((e=>{if(!e.category)return!1;if(e.category===t.id)return!0;if(e.category===t.name)return!0;const a=e=>e?.toLowerCase().replace(/[\s\-]/g,""),s=a(e.category),n=a(t.id),i=a(t.name);return s===n||s===i}));return 0===a.length?null:(0,o.jsxs)("div",{className:i.categorySection,children:[(0,o.jsxs)("div",{className:i.categoryHeader,children:[(0,o.jsxs)("h3",{children:["\ud83d\udcc2 ",t.name||t.label]}),(0,o.jsxs)("span",{className:i.categoryCount,children:[a.length," document",1!==a.length?"s":""]})]}),(0,o.jsx)("div",{className:i.categoryDocs,children:a.sort(((e,t)=>(e.position||999)-(t.position||999))).map(((e,s)=>(0,o.jsx)(j,{doc:e,onEdit:e=>{g(e),h(!0)},onDelete:w,onMovePosition:I,category:t.id,allDocs:a,currentIndex:s,totalDocs:a.length},e.id)))})]},t.id)})),"all"===b&&(()=>{const t=e.filter((e=>!e.category||""===e.category));return 0===t.length?null:(0,o.jsxs)("div",{className:i.categorySection,children:[(0,o.jsxs)("div",{className:i.categoryHeader,children:[(0,o.jsx)("h3",{children:"\ud83d\udcc4 Uncategorized"}),(0,o.jsxs)("span",{className:i.categoryCount,children:[t.length," document",1!==t.length?"s":""]})]}),(0,o.jsx)("div",{className:i.categoryDocs,children:t.sort(((e,t)=>(e.position||999)-(t.position||999))).map(((e,a)=>(0,o.jsx)(j,{doc:e,onEdit:e=>{g(e),h(!0)},onDelete:w,onMovePosition:I,category:"",allDocs:t,currentIndex:a,totalDocs:t.length},e.id)))})]})})(),"all"!==b&&(0,o.jsx)("div",{className:i.categoryDocs,children:_.sort(((e,t)=>(e.position||999)-(t.position||999))).map(((e,t)=>(0,o.jsx)(j,{doc:e,onEdit:e=>{g(e),h(!0)},onDelete:w,onMovePosition:I,category:b,allDocs:_,currentIndex:t,totalDocs:_.length},e.id)))})]})})]})]})}function j({doc:e,onEdit:t,onDelete:a,onMovePosition:s,category:n,allDocs:l,currentIndex:r,totalDocs:c}){return(0,o.jsxs)("div",{className:i.documentItem,children:[(0,o.jsxs)("div",{className:i.docItemContent,children:[(0,o.jsxs)("div",{className:i.docItemHeader,children:[(0,o.jsxs)("div",{className:i.docTitle,children:[(0,o.jsx)("h4",{children:e.title}),(e=>e.draft?(0,o.jsx)("span",{className:i.draftBadge,children:"\ud83d\udcdd Draft"}):e.featured?(0,o.jsx)("span",{className:i.featuredBadge,children:"\u2b50 Featured"}):(0,o.jsx)("span",{className:i.publishedBadge,children:"\u2705 Published"}))(e)]}),(0,o.jsxs)("div",{className:i.docMeta,children:[(0,o.jsxs)("span",{className:i.docPath,children:["\ud83d\udcc1 ",e.filePath]}),e.category&&(0,o.jsxs)("span",{className:i.docCategory,children:["\ud83d\udcc2 ",e.category]}),e.position&&(0,o.jsxs)("span",{className:i.docPosition,children:["\ud83d\udccd Position ",e.position]})]})]}),e.description&&(0,o.jsx)("p",{className:i.docDescription,children:e.description}),(0,o.jsxs)("div",{className:i.docStats,children:[(0,o.jsxs)("span",{children:["\ud83d\udcc5 ",new Date(e.lastModified||Date.now()).toLocaleDateString()]}),(0,o.jsxs)("span",{children:["\ud83d\udcdd ",e.wordCount||0," words"]})]})]}),(0,o.jsxs)("div",{className:i.docItemActions,children:[(0,o.jsxs)("div",{className:i.positionControls,children:[(0,o.jsx)("button",{className:`${i.positionArrow} ${0===r?i.disabled:""}`,onClick:()=>{console.log(`\u2b06\ufe0f Move up clicked for ${e.id}, current index: ${r}, category: "${n}"`),console.log("\ud83d\udccb Document data:",{id:e.id,title:e.title,position:e.position}),console.log("\ud83d\udccb Props:",{currentIndex:r,totalDocs:c,category:n,onMovePosition:!!s}),s&&r>0?(console.log("\u2705 Calling onMovePosition..."),s(e.id,"up",n)):console.log(`\u274c Cannot move up: onMovePosition=${!!s}, currentIndex=${r}`)},disabled:0===r,title:"Move Up",children:"\u2b06\ufe0f"}),(0,o.jsxs)("span",{className:i.positionInfo,children:[r+1,"/",c]}),(0,o.jsx)("button",{className:`${i.positionArrow} ${r===c-1?i.disabled:""}`,onClick:()=>{console.log(`\u2b07\ufe0f Move down clicked for ${e.id}, current index: ${r}, total docs: ${c}, category: "${n}"`),console.log("\ud83d\udccb Document data:",{id:e.id,title:e.title,position:e.position}),console.log("\ud83d\udccb Props:",{currentIndex:r,totalDocs:c,category:n,onMovePosition:!!s}),s&&r<c-1?(console.log("\u2705 Calling onMovePosition..."),s(e.id,"down",n)):console.log(`\u274c Cannot move down: onMovePosition=${!!s}, currentIndex=${r}, totalDocs=${c}`)},disabled:r===c-1,title:"Move Down",children:"\u2b07\ufe0f"})]}),(0,o.jsxs)("div",{className:i.actionButtons,children:[(0,o.jsx)("a",{href:e.slug?`/docs/${e.slug}`:`/docs/${e.id||e.title?.toLowerCase().replace(/\s+/g,"-")}`,target:"_blank",rel:"noopener noreferrer",className:i.iconButton,title:"Preview Document",children:"\ud83d\udc41\ufe0f"}),(0,o.jsx)("button",{className:i.iconButton,onClick:()=>t(e),title:"Edit Document",children:"\u270f\ufe0f"}),(0,o.jsx)("button",{className:i.iconButton,onClick:()=>a(e.id),title:"Delete Document",children:"\ud83d\uddd1\ufe0f"})]})]})]})}function y({doc:e,categories:t,docs:a,onSave:n,onCancel:l}){const[r,c]=(0,s.useState)({title:e?.title||"",content:e?.content||"",category:e?.category||"",position:e?.position||1,description:e?.description||"",slug:e?.slug||"",hasCategory:!!e?.category,draft:e?.draft||!1,featured:e?.featured||!1,tags:e?.tags||[],sidebar_position:e?.sidebar_position||null}),[d,u]=(0,s.useState)(!1),[h,p]=(0,s.useState)(""),[g,x]=(0,s.useState)("");(0,s.useEffect)((()=>{if(r.title&&!e){const e=r.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"");c((t=>({...t,slug:e})))}}),[r.title,e]);const v=(e,t)=>{c((a=>({...a,[e]:t})))};return(0,o.jsxs)("div",{className:i.formContainer,children:[(0,o.jsxs)("div",{className:i.formHeader,children:[(0,o.jsx)("h3",{children:e?"\u270f\ufe0f Edit Document":"\u2795 Create New Document"}),(0,o.jsx)("button",{className:i.previewButton,type:"button",onClick:()=>{const e=r.content.replace(/^### (.+)$/gm,"<h3>$1</h3>").replace(/^## (.+)$/gm,"<h2>$1</h2>").replace(/^# (.+)$/gm,"<h1>$1</h1>").replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/\n/g,"<br>");x(e)},children:"\ud83d\udc41\ufe0f Preview"})]}),h&&(0,o.jsx)(m,{message:h,onRetry:()=>p("")}),(0,o.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),u(!0),p("");try{const a=localStorage.getItem("adminToken"),s=e?encodeURIComponent(e.id):null,i=e?`/api/admin/docs/${s}`:"/api/admin/docs",o=e?"PUT":"POST",l={...r,category:r.hasCategory?r.category:"",position:parseInt(r.position)||1};e&&e.filePath&&(l.filePath=e.filePath),console.log(`\ud83d\udd04 ${o} Document:`,{url:i,docData:l});const c=await fetch(i,{method:o,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(l)});if(!c.ok){const e=await c.text();let a;console.error("\u274c Response error:",e);try{a=JSON.parse(e).error||"Failed to save document"}catch(t){a=e.includes("<!DOCTYPE")?"Server returned HTML instead of JSON - check server logs":e}throw new Error(a)}const d=await c.json();console.log("\u2705 Document saved successfully:",d),n()}catch(h){console.error("Failed to save doc:",h),p(h.message||"Failed to save document")}finally{u(!1)}},className:i.enhancedForm,children:[(0,o.jsxs)("div",{className:i.formSection,children:[(0,o.jsx)("h4",{children:"\ud83d\udcdd Basic Information"}),(0,o.jsxs)("div",{className:i.formRow,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcc4 Document Title *"}),(0,o.jsx)("input",{type:"text",value:r.title,onChange:e=>v("title",e.target.value),required:!0,className:i.inputField,placeholder:"Getting Started with Documentation"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udd17 URL Slug"}),(0,o.jsx)("input",{type:"text",value:r.slug,onChange:e=>v("slug",e.target.value),className:i.inputField,placeholder:"getting-started-with-docs"}),(0,o.jsx)("div",{className:i.inputHint,children:"URL-friendly version of the title (auto-generated if empty)"})]})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udccb Description (Optional)"}),(0,o.jsx)("textarea",{value:r.description,onChange:e=>v("description",e.target.value),rows:2,className:i.textareaField,placeholder:"Brief description of this document..."})]})]}),(0,o.jsxs)("div",{className:i.formSection,children:[(0,o.jsx)("h4",{children:"\ud83d\udcc2 Organization"}),(0,o.jsx)("div",{className:i.formRow,children:(0,o.jsx)("div",{className:i.formGroup,children:(0,o.jsxs)("label",{className:i.checkboxLabel,children:[(0,o.jsx)("input",{type:"checkbox",checked:r.hasCategory,onChange:e=>v("hasCategory",e.target.checked)}),(0,o.jsx)("span",{children:"\ud83d\udcc2 Assign to Category"})]})})}),r.hasCategory&&(0,o.jsxs)("div",{className:i.formRow,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcc2 Category *"}),(0,o.jsxs)("select",{value:r.category,onChange:e=>v("category",e.target.value),required:r.hasCategory,className:i.selectField,children:[(0,o.jsx)("option",{value:"",children:"Select a category..."}),t.filter((e=>e&&e.id)).map((e=>(0,o.jsxs)("option",{value:e.id,children:[e.name||e.label," (",e.itemCount||0," docs)"]},e.id)))]}),(0,o.jsx)("div",{className:i.inputHint,children:"Documents in categories appear in the sidebar navigation"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udccd Position in Category"}),(0,o.jsxs)("div",{className:i.positionControl,children:[(0,o.jsx)("input",{type:"number",value:r.position,onChange:e=>v("position",e.target.value),min:"1",className:i.inputField,placeholder:"1"}),(0,o.jsxs)("div",{className:i.positionButtons,children:[(0,o.jsx)("button",{type:"button",className:i.positionBtn,onClick:()=>v("position","1"),title:"Move to Top",children:"\u2b06\ufe0f Top"}),(0,o.jsx)("button",{type:"button",className:i.positionBtn,onClick:()=>{const e=a?.filter((e=>e.category===r.category))||[],t=Math.max(...e.map((e=>e.position||1)),0)+1;v("position",t.toString())},title:"Move to Bottom",children:"\u2b07\ufe0f Bottom"})]})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Order in the category (1 = first, higher numbers = later). Use Quick Position buttons for easy placement."})]})]})]}),(0,o.jsxs)("div",{className:i.formSection,children:[(0,o.jsx)("h4",{children:"\ud83d\udcdd Content"}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcc4 Document Content (Markdown) *"}),(0,o.jsx)("textarea",{value:r.content,onChange:e=>v("content",e.target.value),required:!0,rows:20,className:i.textareaField,placeholder:"# Your Document Title\r Write your documentation content here using Markdown...\r ## Section 1\r Your content goes here.\r ## Section 2\r More content..."}),(0,o.jsx)("div",{className:i.inputHint,children:"Use Markdown syntax for formatting. Supports headers, lists, links, code blocks, etc."})]})]}),(0,o.jsxs)("div",{className:i.formSection,children:[(0,o.jsx)("h4",{children:"\u2699\ufe0f Options"}),(0,o.jsxs)("div",{className:i.optionsGrid,children:[(0,o.jsxs)("label",{className:i.checkboxLabel,children:[(0,o.jsx)("input",{type:"checkbox",checked:r.draft,onChange:e=>v("draft",e.target.checked)}),(0,o.jsx)("span",{children:"\ud83d\udcdd Save as Draft"})]}),(0,o.jsxs)("label",{className:i.checkboxLabel,children:[(0,o.jsx)("input",{type:"checkbox",checked:r.featured,onChange:e=>v("featured",e.target.checked)}),(0,o.jsx)("span",{children:"\u2b50 Featured Document"})]})]})]}),g&&(0,o.jsxs)("div",{className:i.formSection,children:[(0,o.jsx)("h4",{children:"\ud83d\udc41\ufe0f Preview"}),(0,o.jsx)("div",{className:i.contentPreview,dangerouslySetInnerHTML:{__html:g}})]}),(0,o.jsxs)("div",{className:i.formActions,children:[(0,o.jsx)("button",{type:"button",onClick:l,className:i.cancelButton,children:"\u274c Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:d,className:i.saveButton,children:d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),e?"Updating...":"Creating..."]}):(0,o.jsxs)(o.Fragment,{children:["\ud83d\udcbe ",e?"Update Document":"Create Document"]})})]})]})]})}function N(){const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!0),[l,r]=(0,s.useState)(!1),[c,h]=(0,s.useState)(""),[p,g]=(0,s.useState)("");(0,s.useEffect)((()=>{x()}),[]);const x=async()=>{try{const e=localStorage.getItem("adminToken"),a=await fetch("/api/admin/media",{headers:{Authorization:`Bearer ${e}`}}),s=await a.json();t(s),n(!1)}catch(p){console.error("Failed to fetch media:",p),g("Failed to load media files"),n(!1)}};return a?(0,o.jsx)(d,{message:"Loading media library..."}):(0,o.jsxs)("div",{className:i.tabContent,children:[(0,o.jsxs)("div",{className:i.tabHeader,children:[(0,o.jsx)("h2",{children:"\ud83d\uddbc\ufe0f Media Library"}),(0,o.jsxs)("div",{className:i.uploadSection,children:[(0,o.jsx)("input",{type:"file",id:"fileUpload",onChange:async e=>{const t=e.target.files[0];if(!t)return;r(!0),g("");const a=new FormData;a.append("file",t);try{const e=localStorage.getItem("adminToken");(await fetch("/api/admin/media/upload",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:a})).ok?(x(),h("File uploaded successfully!"),setTimeout((()=>h("")),3e3)):g("Failed to upload file")}catch(p){console.error("Failed to upload file:",p),g("Failed to upload file")}finally{r(!1)}},accept:"image/*,video/*,.pdf,.doc,.docx",style:{display:"none"}}),(0,o.jsx)("button",{className:i.addButton,onClick:()=>document.getElementById("fileUpload").click(),disabled:l,children:l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.uploadSpinner,children:"\u23f3"}),"Uploading..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:"\ud83d\udcc1"}),"Upload Media"]})})]})]}),c&&(0,o.jsx)(u,{message:c,onClose:()=>h("")}),p&&(0,o.jsx)(m,{message:p,onRetry:()=>g("")}),(0,o.jsx)("div",{className:i.mediaGrid,children:0===e.length?(0,o.jsxs)("div",{className:i.emptyState,children:[(0,o.jsx)("div",{className:i.emptyIcon,children:"\ud83d\udcc1"}),(0,o.jsx)("h3",{children:"No Media Files"}),(0,o.jsx)("p",{children:"Upload your first image, document, or video to get started!"}),(0,o.jsx)("button",{className:i.primaryButton,onClick:()=>document.getElementById("fileUpload").click(),children:"\ud83d\udcc1 Upload First File"})]}):e.map((e=>(0,o.jsxs)("div",{className:i.mediaItem,children:[(0,o.jsx)("div",{className:i.mediaPreview,children:e.path.match(/\.(jpg|jpeg|png|gif|webp)$/i)?(0,o.jsx)("img",{src:e.path,alt:e.filename,className:i.mediaImage}):e.path.match(/\.(mp4|webm|ogg)$/i)?(0,o.jsx)("video",{src:e.path,className:i.mediaVideo,controls:!0}):(0,o.jsxs)("div",{className:i.mediaPlaceholder,children:[(0,o.jsx)("div",{className:i.fileIcon,children:e.path.match(/\.pdf$/i)?"\ud83d\udcc4":e.path.match(/\.(doc|docx)$/i)?"\ud83d\udcdd":"\ud83d\udcce"}),(0,o.jsx)("span",{className:i.fileType,children:e.filename.split(".").pop().toUpperCase()})]})}),(0,o.jsxs)("div",{className:i.mediaInfo,children:[(0,o.jsx)("p",{className:i.mediaName,title:e.filename,children:e.filename}),(0,o.jsxs)("p",{className:i.mediaSize,children:[(e.size/1024).toFixed(1)," KB"]}),(0,o.jsx)("div",{className:i.mediaMeta,children:(0,o.jsx)("span",{className:i.mediaPath,title:e.path,children:e.path})}),(0,o.jsxs)("div",{className:i.mediaActions,children:[(0,o.jsx)("a",{href:e.path,target:"_blank",rel:"noopener noreferrer",className:i.viewButton,title:"View/Download file",children:"\ud83d\udc41\ufe0f View"}),(0,o.jsx)("button",{className:i.copyButton,onClick:()=>(async(e,t)=>{try{await navigator.clipboard.writeText(e),h(`\u2705 Path copied: ${t}`),setTimeout((()=>h("")),2e3)}catch(p){console.error("Failed to copy path:",p);const n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy"),h(`\u2705 Path copied: ${t}`),setTimeout((()=>h("")),2e3)}catch(a){g("Failed to copy path to clipboard")}document.body.removeChild(n)}})(e.path,e.filename),title:"Copy file path",children:"\ud83d\udd17 Copy Link"}),(0,o.jsx)("button",{className:i.copyButton,onClick:()=>(async(e,t)=>{const a=`![${t.replace(/\.[^/.]+$/,"")}](${e})`;try{await navigator.clipboard.writeText(a),h(`\u2705 Markdown copied: ${t}`),setTimeout((()=>h("")),2e3)}catch(p){console.error("Failed to copy markdown:",p),g("Failed to copy markdown to clipboard")}})(e.path,e.filename),title:"Copy markdown image syntax",children:"\ud83d\udcdd Copy Markdown"}),(0,o.jsx)("button",{onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this file?"))try{const t=localStorage.getItem("adminToken");(await fetch(`/api/admin/media/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok?(x(),h("File deleted successfully!"),setTimeout((()=>h("")),3e3)):g("Failed to delete file")}catch(p){console.error("Failed to delete file:",p),g("Failed to delete file")}})(e.filename),className:i.deleteButton,title:"Delete file",children:"\ud83d\uddd1\ufe0f Delete"})]})]})]},e.filename)))}),(0,o.jsxs)("div",{className:i.mediaTips,children:[(0,o.jsx)("h3",{children:"\ud83d\udca1 Usage Tips"}),(0,o.jsxs)("div",{className:i.tipsGrid,children:[(0,o.jsxs)("div",{className:i.tip,children:[(0,o.jsx)("strong",{children:"\ud83d\udd17 Copy Link:"})," Get the direct file path for use in HTML or custom components"]}),(0,o.jsxs)("div",{className:i.tip,children:[(0,o.jsx)("strong",{children:"\ud83d\udcdd Copy Markdown:"})," Get ready-to-use markdown image syntax for your documents"]}),(0,o.jsxs)("div",{className:i.tip,children:[(0,o.jsx)("strong",{children:"\ud83d\udcc1 Supported Files:"})," Images (JPG, PNG, GIF), Videos (MP4, WebM), Documents (PDF, DOC)"]})]})]})]})}function f(){const[e,t]=(0,s.useState)({}),[a,n]=(0,s.useState)(!0),[l,r]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null);(0,s.useEffect)((()=>{m()}),[]);const m=async()=>{try{const e=localStorage.getItem("adminToken"),a=await fetch("/api/admin/authors",{headers:{Authorization:`Bearer ${e}`}}),s=await a.json();t(s),n(!1)}catch(e){console.error("Failed to fetch authors:",e),n(!1)}};return a?(0,o.jsx)("div",{className:i.loading,children:"Loading authors..."}):(0,o.jsxs)("div",{className:i.tabContent,children:[(0,o.jsxs)("div",{className:i.tabHeader,children:[(0,o.jsx)("h2",{children:"\ud83d\udc65 Authors Management"}),(0,o.jsxs)("div",{className:i.tabActions,children:[(0,o.jsx)("button",{className:i.addButton,onClick:()=>{r(!0),d(null)},children:"\u2795 Add Author"}),(0,o.jsx)("a",{href:"/blog",target:"_blank",rel:"noopener noreferrer",className:i.previewButton,children:"\ud83d\udc41\ufe0f View Blog"})]})]}),l?(0,o.jsx)(S,{author:c,onSave:()=>{r(!1),m()},onCancel:()=>r(!1)}):(0,o.jsx)("div",{className:i.authorsGrid,children:0===Object.keys(e).length?(0,o.jsx)("div",{className:i.emptyState,children:(0,o.jsx)("p",{children:"No authors yet. Add your first author!"})}):Object.entries(e).map((([e,t])=>(0,o.jsxs)("div",{className:i.authorCard,children:[(0,o.jsx)("div",{className:i.authorAvatar,children:t.image_url?(0,o.jsx)("img",{src:t.image_url,alt:t.name}):(0,o.jsx)("div",{className:i.avatarPlaceholder,children:t.name?.charAt(0)||"?"})}),(0,o.jsxs)("div",{className:i.authorInfo,children:[(0,o.jsx)("h3",{children:t.name}),(0,o.jsx)("p",{className:i.authorTitle,children:t.title})]}),(0,o.jsxs)("div",{className:i.itemActions,children:[(0,o.jsx)("a",{href:`/blog/authors/${t.key||e}`,target:"_blank",rel:"noopener noreferrer",className:i.viewButton,title:"View Author Profile",children:"\ud83d\udc41\ufe0f View"}),(0,o.jsx)("button",{onClick:()=>{d({...t,key:e}),r(!0)},className:i.editButton,children:"\u270f\ufe0f Edit"})]})]},e)))})]})}const b=function(){return(0,o.jsx)(n.A,{title:"Docusaurus Admin Panel",description:"Comprehensive admin panel for Docusaurus documentation sites",noFooter:!0,children:(0,o.jsx)(r,{children:(0,o.jsx)(X,{})})})};function C({blog:e,onSave:t,onCancel:a}){const[n,l]=(0,s.useState)(e?.title||""),[r,c]=(0,s.useState)(e?.content||""),[d,m]=(0,s.useState)(e?.author||""),[u,h]=(0,s.useState)(e?.tags?.join(", ")||""),[p,g]=(0,s.useState)(!1!==e?.published),[x,v]=(0,s.useState)(!1);return(0,o.jsx)("div",{className:i.formContainer,children:(0,o.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),v(!0);const s={title:n,content:r,author:d,tags:u.split(",").map((e=>e.trim())).filter(Boolean),published:p};try{const a=localStorage.getItem("adminToken"),n=e?`/api/admin/blogs/${e.id}`:"/api/admin/blogs",i=e?"PUT":"POST";await fetch(n,{method:i,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(s)}),t()}catch(i){console.error("Failed to save blog:",i)}finally{v(!1)}},className:i.contentForm,children:[(0,o.jsxs)("div",{className:i.formRow,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"Title *"}),(0,o.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),required:!0,className:i.inputField})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"Author *"}),(0,o.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),required:!0,className:i.inputField})]})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"Tags (comma separated)"}),(0,o.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"react, javascript, tutorial",className:i.inputField})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"Content *"}),(0,o.jsx)("textarea",{value:r,onChange:e=>c(e.target.value),required:!0,rows:15,className:i.textareaField,placeholder:"Write your blog post content in Markdown..."})]}),(0,o.jsx)("div",{className:i.formGroup,children:(0,o.jsxs)("label",{className:i.checkboxLabel,children:[(0,o.jsx)("input",{type:"checkbox",checked:p,onChange:e=>g(e.target.checked)}),"Publish immediately"]})}),(0,o.jsxs)("div",{className:i.formActions,children:[(0,o.jsx)("button",{type:"button",onClick:a,className:i.cancelButton,children:"Cancel"}),(0,o.jsxs)("button",{type:"submit",disabled:x,className:i.saveButton,children:[x?"Saving...":e?"Update":"Create"," Post"]})]})]})})}function S({author:e,onSave:t,onCancel:a}){const[n,l]=(0,s.useState)(e?.name||""),[r,c]=(0,s.useState)(e?.title||""),[d,m]=(0,s.useState)(e?.description||""),[u,h]=(0,s.useState)(e?.image_url||""),[p,g]=(0,s.useState)(e?.url||""),[x,v]=(0,s.useState)(!1);return(0,o.jsx)("div",{className:i.formContainer,children:(0,o.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),v(!0);const s={name:n,title:r,description:d,image_url:u,url:p};try{const a=localStorage.getItem("adminToken"),n=e?`/api/admin/authors/${e.key}`:"/api/admin/authors",i=e?"PUT":"POST";await fetch(n,{method:i,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(s)}),t()}catch(i){console.error("Failed to save author:",i)}finally{v(!1)}},className:i.contentForm,children:[(0,o.jsxs)("div",{className:i.formRow,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"Name *"}),(0,o.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),required:!0,className:i.inputField})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"Title"}),(0,o.jsx)("input",{type:"text",value:r,onChange:e=>c(e.target.value),placeholder:"Software Engineer, Writer, etc.",className:i.inputField})]})]}),(0,o.jsxs)("div",{className:i.formRow,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"Avatar URL"}),(0,o.jsx)("input",{type:"url",value:u,onChange:e=>h(e.target.value),placeholder:"https://example.com/avatar.jpg",className:i.inputField})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"Website URL"}),(0,o.jsx)("input",{type:"url",value:p,onChange:e=>g(e.target.value),placeholder:"https://example.com",className:i.inputField})]})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"Bio"}),(0,o.jsx)("textarea",{value:d,onChange:e=>m(e.target.value),rows:4,className:i.textareaField,placeholder:"Tell us about this author..."})]}),(0,o.jsxs)("div",{className:i.formActions,children:[(0,o.jsx)("button",{type:"button",onClick:a,className:i.cancelButton,children:"Cancel"}),(0,o.jsxs)("button",{type:"submit",disabled:x,className:i.saveButton,children:[x?"Saving...":e?"Update":"Add"," Author"]})]})]})})}function k(){const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!0),[l,r]=(0,s.useState)(!1),[c,h]=(0,s.useState)(null),[p,g]=(0,s.useState)(""),[x,v]=(0,s.useState)("");(0,s.useEffect)((()=>{j()}),[]);const j=async()=>{try{const e=localStorage.getItem("adminToken"),a=await fetch("/api/admin/pages",{headers:{Authorization:`Bearer ${e}`}});if(a.ok){const e=await a.json();t(e)}else v("Failed to fetch pages")}catch(x){console.error("Failed to fetch pages:",x),v("Failed to fetch pages")}finally{n(!1)}};return a?(0,o.jsx)(d,{message:"Loading pages..."}):(0,o.jsxs)("div",{className:i.tabContent,children:[(0,o.jsxs)("div",{className:i.tabHeader,children:[(0,o.jsx)("h2",{children:"\ud83d\udcc4 Pages Management"}),(0,o.jsx)("button",{className:i.addButton,onClick:()=>{h(null),r(!0)},children:"+ New Page"})]}),p&&(0,o.jsx)(u,{message:p,onClose:()=>g("")}),x&&(0,o.jsx)(m,{message:x,onRetry:()=>v("")}),l?(0,o.jsx)(w,{page:c,onSave:async e=>{try{const t=localStorage.getItem("adminToken"),a=c?`/api/admin/pages/${c.id}`:"/api/admin/pages",s=c?"PUT":"POST";(await fetch(a,{method:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)})).ok?(g(c?"Page updated successfully!":"Page created successfully!"),r(!1),h(null),j()):v("Failed to save page")}catch(x){console.error("Failed to save page:",x),v("Failed to save page")}},onCancel:()=>{r(!1),h(null)}}):(0,o.jsx)("div",{className:i.itemsList,children:0===e.length?(0,o.jsxs)("div",{className:i.emptyState,children:[(0,o.jsx)("h3",{children:"\ud83d\udcc4 No Custom Pages Yet"}),(0,o.jsx)("p",{children:"Create your first custom page to get started!"}),(0,o.jsx)("button",{className:i.addButton,onClick:()=>r(!0),children:"+ Create First Page"})]}):(0,o.jsx)("div",{className:i.pagesGrid,children:e.map((e=>(0,o.jsxs)("div",{className:i.pageCard,children:[(0,o.jsxs)("div",{className:i.pageInfo,children:[(0,o.jsx)("h3",{children:e.title}),(0,o.jsx)("p",{className:i.pagePath,children:e.path}),(0,o.jsxs)("span",{className:i.pageDate,children:["Updated: ",new Date(e.lastModified).toLocaleDateString()]})]}),(0,o.jsxs)("div",{className:i.itemActions,children:[(0,o.jsx)("button",{className:i.editButton,onClick:()=>{h(e),r(!0)},children:"Edit"}),(0,o.jsx)("a",{href:e.path,target:"_blank",rel:"noopener noreferrer",className:i.viewButton,children:"View"})]})]},e.id)))})})]})}function w({page:e,onSave:t,onCancel:a}){const[n,l]=(0,s.useState)(e?.title||""),[r,c]=(0,s.useState)(e?.content||""),[d,m]=(0,s.useState)(!1),[u,h]=(0,s.useState)({});return(0,o.jsxs)("div",{className:i.formContainer,children:[(0,o.jsxs)("div",{className:i.formHeader,children:[(0,o.jsx)("h3",{children:e?"\u270f\ufe0f Edit Page":"\ud83d\udcc4 Create New Page"}),(0,o.jsx)("button",{type:"button",onClick:a,className:i.cancelButton,children:"\u274c Cancel"})]}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.trim()||(e.title="Page title is required"),r.trim()||(e.content="Page content is required"),h(e),0===Object.keys(e).length})()){m(!0);try{await t({title:n.trim(),content:r.trim()})}catch(a){console.error("Failed to save page:",a)}finally{m(!1)}}},className:i.contentForm,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcdd Page Title *"}),(0,o.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),className:`${i.inputField} ${u.title?i.inputError:""}`,placeholder:"About Us, Contact, Services, etc."}),u.title&&(0,o.jsx)("span",{className:i.errorText,children:u.title}),(0,o.jsx)("div",{className:i.inputHint,children:"This will be used as the page title and URL slug"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcc4 Page Content *"}),(0,o.jsx)("textarea",{value:r,onChange:e=>c(e.target.value),className:`${i.textareaField} ${u.content?i.inputError:""}`,rows:20,placeholder:"Write your page content using Markdown...\r # Welcome to Our Company\r We are a **leading provider** of innovative solutions.\r ## Our Services\r - Service 1\r\n- Service 2\r\n- Service 3\r ## Contact Us\r Email: contact@example.com\r\nPhone: (555) 123-4567"}),u.content&&(0,o.jsx)("span",{className:i.errorText,children:u.content}),(0,o.jsxs)("div",{className:i.markdownHint,children:["\ud83d\udca1 ",(0,o.jsx)("strong",{children:"Tip:"})," Use Markdown formatting for headings, lists, links, and styling."]})]}),(0,o.jsxs)("div",{className:i.formActions,children:[(0,o.jsx)("button",{type:"button",onClick:a,className:i.cancelButton,children:"Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:d,className:i.saveButton,children:d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),e?"Updating...":"Creating..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:"\ud83d\udcbe"}),e?"Update Page":"Create Page"]})})]})]})]})}function I(){const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!0),[l,r]=(0,s.useState)(!1),[c,h]=(0,s.useState)(null),[p,g]=(0,s.useState)(""),[x,v]=(0,s.useState)("");(0,s.useEffect)((()=>{j()}),[]);const j=async()=>{try{const e=localStorage.getItem("adminToken"),a=await fetch("/api/admin/categories",{headers:{Authorization:`Bearer ${e}`}});if(a.ok){const e=((await a.json()).categories||[]).filter((e=>e&&e.id));t(e)}else v("Failed to fetch categories")}catch(x){console.error("Failed to fetch categories:",x),v("Failed to fetch categories"),t([])}finally{n(!1)}},y=async(e,t)=>{console.log(`\ud83d\udd04 CATEGORY Frontend: Moving category ${e} ${t}`);try{const s=localStorage.getItem("adminToken");console.log("\ud83d\udce1 Making category position request to: /api/admin/categories/move-position");const n=await fetch("/api/admin/categories/move-position",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({categoryId:e,direction:t})});if(console.log(`\ud83d\udce1 Category API response status: ${n.status}`),n.ok){const e=await n.json();console.log("\u2705 Category move success response:",e),e.moved?(j(),g(`Category moved ${t} successfully!`),setTimeout((()=>g("")),2e3)):(g(e.message||"Category is at "+("up"===t?"top":"bottom")),setTimeout((()=>g("")),2e3))}else{const e=await n.text();let t;console.error("\u274c Category move error:",e);try{t=JSON.parse(e).error||"Failed to move category"}catch(a){t=e.includes("<!DOCTYPE")?"Server returned HTML instead of JSON - check server logs":e}v(t),setTimeout((()=>v("")),4e3)}}catch(x){console.error("\u274c Category move frontend error:",x),v("Failed to move category position"),setTimeout((()=>v("")),3e3)}};return a?(0,o.jsx)(d,{message:"Loading categories..."}):(0,o.jsxs)("div",{className:i.tabContent,children:[(0,o.jsxs)("div",{className:i.tabHeader,children:[(0,o.jsx)("h2",{children:"\ud83c\udff7\ufe0f Categories Management"}),(0,o.jsx)("button",{className:i.addButton,onClick:()=>{h(null),r(!0)},children:"+ New Category"})]}),p&&(0,o.jsx)(u,{message:p,onClose:()=>g("")}),x&&(0,o.jsx)(m,{message:x,onRetry:()=>v("")}),l?(0,o.jsx)(_,{category:c,onSave:async e=>{try{const t=localStorage.getItem("adminToken"),a=c?`/api/admin/categories/${c.id}`:"/api/admin/categories",s=c?"PUT":"POST";(await fetch(a,{method:s,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)})).ok?(g(c?"Category updated successfully!":"Category created successfully!"),r(!1),h(null),j()):v("Failed to save category")}catch(x){console.error("Failed to save category:",x),v("Failed to save category")}},onCancel:()=>{r(!1),h(null)}}):(0,o.jsxs)("div",{className:i.categoriesContainer,children:[0===e.length?(0,o.jsxs)("div",{className:i.emptyState,children:[(0,o.jsx)("h3",{children:"\ud83c\udff7\ufe0f No Categories Yet"}),(0,o.jsx)("p",{children:"Create categories to organize your documentation!"}),(0,o.jsx)("button",{className:i.addButton,onClick:()=>r(!0),children:"+ Create First Category"})]}):(0,o.jsx)("div",{className:i.categoriesGrid,children:e.map((t=>(0,o.jsxs)("div",{className:i.categoryCard,children:[(0,o.jsx)("div",{className:i.categoryIcon,children:t.emoji||"\ud83d\udcc1"}),(0,o.jsxs)("div",{className:i.categoryInfo,children:[(0,o.jsx)("h3",{children:t.label}),(0,o.jsx)("p",{className:i.categorySlug,children:t.id}),(0,o.jsx)("p",{className:i.categoryDesc,children:t.description||"No description"}),(0,o.jsxs)("span",{className:i.categoryCount,children:[t.itemCount," items"]})]}),(0,o.jsxs)("div",{className:i.itemActions,children:[(0,o.jsxs)("div",{className:i.positionControls,children:[(0,o.jsx)("button",{className:`${i.positionArrow} ${0===e.findIndex((e=>e&&e.id===t.id))?i.disabled:""}`,onClick:()=>y(t.id,"up"),disabled:0===e.findIndex((e=>e&&e.id===t.id)),title:"Move up",children:"\u2b06\ufe0f"}),(0,o.jsx)("button",{className:`${i.positionArrow} ${e.findIndex((e=>e&&e.id===t.id))===e.length-1?i.disabled:""}`,onClick:()=>y(t.id,"down"),disabled:e.findIndex((e=>e&&e.id===t.id))===e.length-1,title:"Move down",children:"\u2b07\ufe0f"})]}),(0,o.jsx)("button",{className:i.editButton,onClick:()=>{h(t),r(!0)},children:"Edit"})]})]},t.id)))}),(0,o.jsxs)("div",{className:i.categoryHints,children:[(0,o.jsx)("h4",{children:"\ud83d\udca1 Category Tips"}),(0,o.jsxs)("div",{className:i.hintsList,children:[(0,o.jsxs)("div",{className:i.hint,children:[(0,o.jsx)("strong",{children:"Organization:"})," Categories help organize your documentation into logical sections"]}),(0,o.jsxs)("div",{className:i.hint,children:[(0,o.jsx)("strong",{children:"Navigation:"})," Categories appear in the sidebar navigation automatically"]}),(0,o.jsxs)("div",{className:i.hint,children:[(0,o.jsx)("strong",{children:"Position:"})," Use the position field to control the order of categories"]})]})]})]})]})}function _({category:e,onSave:t,onCancel:a}){const[n,l]=(0,s.useState)(e?.id||""),[r,c]=(0,s.useState)(e?.label||""),[d,m]=(0,s.useState)(e?.description||""),[u,h]=(0,s.useState)(e?.position||1),[p,g]=(0,s.useState)(e?.emoji||"\ud83d\udcc1"),[x,v]=(0,s.useState)(!1),[j,y]=(0,s.useState)({});return(0,o.jsxs)("div",{className:i.formContainer,children:[(0,o.jsxs)("div",{className:i.formHeader,children:[(0,o.jsx)("h3",{children:e?"\u270f\ufe0f Edit Category":"\ud83c\udff7\ufe0f Create New Category"}),(0,o.jsx)("button",{type:"button",onClick:a,className:i.cancelButton,children:"\u274c Cancel"})]}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return n.trim()||(e.name="Category name is required"),r.trim()||(e.label="Category label is required"),y(e),0===Object.keys(e).length})()){v(!0);try{await t({name:n.trim(),label:r.trim(),description:d.trim(),position:parseInt(u),emoji:p})}catch(a){console.error("Failed to save category:",a)}finally{v(!1)}}},className:i.contentForm,children:[(0,o.jsxs)("div",{className:i.formRow,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcdd Category Name *"}),(0,o.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),className:`${i.inputField} ${j.name?i.inputError:""}`,placeholder:"getting-started, tutorials, guides",disabled:!!e}),j.name&&(0,o.jsx)("span",{className:i.errorText,children:j.name}),(0,o.jsx)("div",{className:i.inputHint,children:"Used for URL and folder name (cannot be changed after creation)"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udff7\ufe0f Display Label *"}),(0,o.jsx)("input",{type:"text",value:r,onChange:e=>c(e.target.value),className:`${i.inputField} ${j.label?i.inputError:""}`,placeholder:"Getting Started, Tutorials, Guides"}),j.label&&(0,o.jsx)("span",{className:i.errorText,children:j.label}),(0,o.jsx)("div",{className:i.inputHint,children:"Shown in navigation and headings"})]})]}),(0,o.jsxs)("div",{className:i.formRow,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udfa8 Icon/Emoji"}),(0,o.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),className:i.inputField,placeholder:"\ud83d\udcda, \ud83d\udee0\ufe0f, \ud83d\udcd6, \ud83d\ude80",maxLength:2}),(0,o.jsx)("div",{className:i.inputHint,children:"Single emoji to represent this category"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcca Position"}),(0,o.jsx)("input",{type:"number",value:u,onChange:e=>h(e.target.value),className:i.inputField,min:"1"}),(0,o.jsx)("div",{className:i.inputHint,children:"Order in navigation (lower numbers appear first)"})]})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcc4 Description"}),(0,o.jsx)("textarea",{value:d,onChange:e=>m(e.target.value),className:i.textareaField,rows:3,placeholder:"Brief description of what this category contains..."}),(0,o.jsx)("div",{className:i.inputHint,children:"Optional description for better organization"})]}),(0,o.jsxs)("div",{className:i.formActions,children:[(0,o.jsx)("button",{type:"button",onClick:a,className:i.cancelButton,children:"Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:x,className:i.saveButton,children:x?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),e?"Updating...":"Creating..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:"\ud83d\udcbe"}),e?"Update Category":"Create Category"]})})]})]})]})}function F(){const[e,t]=(0,s.useState)("header"),[a,n]=(0,s.useState)([]),[l,r]=(0,s.useState)({links:[],copyright:""}),[c,h]=(0,s.useState)(!0),[p,g]=(0,s.useState)(!1),[x,v]=(0,s.useState)(""),[j,y]=(0,s.useState)(""),[N,f]=(0,s.useState)(!1),[b,C]=(0,s.useState)(!1);(0,s.useEffect)((()=>{S(),k()}),[]);const S=async()=>{try{const e=localStorage.getItem("adminToken");if(!e)return void y("No authentication token found");const t=await fetch("/api/admin/navigation",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();console.log("Navigation data received:",e),n(e.items||[])}else{const e=await t.json();console.error("Navigation fetch failed:",e),y(`Failed to load navigation: ${e.error||"Unknown error"}`)}}catch(j){console.error("Failed to fetch navigation:",j),y("Failed to load navigation items. Check your connection.")}},k=async()=>{try{const e=localStorage.getItem("adminToken");if(!e)return;const t=await fetch("/api/admin/footer",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();console.log("Footer data received:",e),r(e)}}catch(j){console.error("Failed to fetch footer:",j)}finally{h(!1)}},w=(e,t)=>{n(a.map((a=>a.id===e?{...a,...t}:a)))},I=e=>{confirm("Are you sure you want to delete this menu item?")&&(n(a.filter((t=>t.id!==e))),v("Menu item deleted successfully!"),setTimeout((()=>v("")),3e3))},_=(e,t)=>{const s=a.findIndex((t=>t.id===e)),i="up"===t?s-1:s+1;if(i>=0&&i<a.length){const e=[...a];[e[s],e[i]]=[e[i],e[s]],e.forEach(((e,t)=>{e.position=t+1})),n(e)}},F=(e,t)=>{const a=[...l.links];a[e]=t,r({...l,links:a})},D=e=>{if(!confirm("Are you sure you want to delete this footer group?"))return;const t=l.links.filter(((t,a)=>a!==e));r({...l,links:t}),v("Footer group deleted successfully!"),setTimeout((()=>v("")),3e3)},G=(e,t)=>{const a=[...l.links];a[e].items.push(t),r({...l,links:a})},L=(e,t)=>{const a=[...l.links];a[e].items=a[e].items.filter(((e,a)=>a!==t)),r({...l,links:a})};return c?(0,o.jsx)(d,{message:"Loading navigation & footer..."}):(0,o.jsxs)("div",{className:i.tabContent,children:[(0,o.jsxs)("div",{className:i.tabHeader,children:[(0,o.jsx)("h2",{children:"\ud83e\udded Navigation & Footer Management"}),(0,o.jsxs)("div",{className:i.sectionTabs,children:[(0,o.jsx)("button",{className:`${i.sectionTab} ${"header"===e?i.activeSectionTab:""}`,onClick:()=>t("header"),children:"\ud83d\udccb Header Navigation"}),(0,o.jsx)("button",{className:`${i.sectionTab} ${"footer"===e?i.activeSectionTab:""}`,onClick:()=>t("footer"),children:"\ud83e\uddb6 Footer Links"})]}),(0,o.jsx)("div",{className:i.tabActions,children:(0,o.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:i.previewButton,children:"\ud83d\udc41\ufe0f Preview Site"})})]}),x&&(0,o.jsx)(u,{message:x,onClose:()=>v("")}),j&&(0,o.jsx)(m,{message:j,onRetry:()=>y("")}),"header"===e&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:i.sectionHeader,children:[(0,o.jsx)("h3",{children:"\ud83d\udccb Header Navigation Menu"}),(0,o.jsx)("button",{className:i.addButton,onClick:()=>f(!0),children:"\u2795 Add Menu Item"})]}),N&&(0,o.jsx)(B,{onSave:e=>{const t={...e,id:Date.now(),position:a.length+1};n([...a,t]),f(!1),v("Menu item added successfully!"),setTimeout((()=>v("")),3e3)},onCancel:()=>f(!1)}),(0,o.jsx)("div",{className:i.navigationList,children:0===a.length?(0,o.jsxs)("div",{className:i.emptyState,children:[(0,o.jsx)("div",{className:i.emptyIcon,children:"\ud83e\udded"}),(0,o.jsx)("h3",{children:"No Navigation Items"}),(0,o.jsx)("p",{children:"Create your first navigation menu item to get started."}),(0,o.jsx)("button",{className:i.primaryButton,onClick:()=>f(!0),children:"\u2795 Add First Menu Item"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:i.navigationHeader,children:[(0,o.jsxs)("span",{children:["\ud83d\udccb Menu Items (",a.length,")"]}),(0,o.jsx)("div",{className:i.navigationGuide,children:(0,o.jsx)("span",{className:i.guideText,children:"\ud83d\udca1 Use \u2191\u2193 buttons to reorder items"})})]}),a.sort(((e,t)=>(e.position||0)-(t.position||0))).map(((e,t)=>(0,o.jsx)(T,{item:e,index:t,totalItems:a.length,onUpdate:w,onDelete:I,onMove:_},e.id))),(0,o.jsx)("div",{className:i.navigationActions,children:(0,o.jsx)("button",{className:i.saveButton,onClick:async()=>{g(!0),y("");try{const e=localStorage.getItem("adminToken");if(!e)return void y("No authentication token found");console.log("Saving navigation items:",a);const t=await fetch("/api/admin/navigation",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({items:a})});if(t.ok){const e=await t.json();console.log("Navigation save response:",e),v("Header navigation updated successfully! Changes will be applied after server restart."),setTimeout((()=>v("")),5e3)}else{const e=await t.json();console.error("Navigation save failed:",e),y(`Failed to save navigation: ${e.error||"Unknown error"}`)}}catch(j){console.error("Failed to save navigation:",j),y("Failed to save navigation. Check your connection.")}finally{g(!1)}},disabled:p,children:p?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),"Saving Navigation..."]}):(0,o.jsx)(o.Fragment,{children:"\ud83d\udcbe Save Header Navigation"})})})]})})]}),"footer"===e&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:i.sectionHeader,children:[(0,o.jsx)("h3",{children:"\ud83e\uddb6 Footer Links Management"}),(0,o.jsx)("button",{className:i.addButton,onClick:()=>C(!0),children:"\u2795 Add Footer Group"})]}),b&&(0,o.jsx)(A,{onSave:e=>{const t={...l,links:[...l.links,e]};r(t),C(!1),v("Footer group added successfully!"),setTimeout((()=>v("")),3e3)},onCancel:()=>C(!1)}),(0,o.jsxs)("div",{className:i.copyrightSection,children:[(0,o.jsx)("label",{children:"\ud83d\udcdd Copyright Text"}),(0,o.jsx)("input",{type:"text",value:l.copyright,onChange:e=>r({...l,copyright:e.target.value}),className:i.inputField,placeholder:"Copyright \xa9 2025 Your Company Name"})]}),(0,o.jsx)("div",{className:i.footerGroups,children:0===l.links.length?(0,o.jsxs)("div",{className:i.emptyState,children:[(0,o.jsx)("div",{className:i.emptyIcon,children:"\ud83e\uddb6"}),(0,o.jsx)("h3",{children:"No Footer Groups"}),(0,o.jsx)("p",{children:"Create your first footer link group to get started."}),(0,o.jsx)("button",{className:i.primaryButton,onClick:()=>C(!0),children:"\u2795 Add First Footer Group"})]}):(0,o.jsxs)(o.Fragment,{children:[l.links.map(((e,t)=>(0,o.jsx)(P,{group:e,groupIndex:t,onUpdate:F,onDelete:D,onAddItem:G,onDeleteItem:L},t))),(0,o.jsx)("div",{className:i.navigationActions,children:(0,o.jsx)("button",{className:i.saveButton,onClick:async()=>{g(!0),y("");try{const e=localStorage.getItem("adminToken");if(!e)return void y("No authentication token found");console.log("Saving footer data:",l);const t=await fetch("/api/admin/footer",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(l)});if(t.ok){const e=await t.json();console.log("Footer save response:",e),v("Footer updated successfully! Changes will be applied after server restart."),setTimeout((()=>v("")),5e3)}else{const e=await t.json();console.error("Footer save failed:",e),y(`Failed to save footer: ${e.error||"Unknown error"}`)}}catch(j){console.error("Failed to save footer:",j),y("Failed to save footer. Check your connection.")}finally{g(!1)}},disabled:p,children:p?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),"Saving Footer..."]}):(0,o.jsx)(o.Fragment,{children:"\ud83d\udcbe Save Footer Links"})})})]})})]})]})}function T({item:e,index:t,totalItems:a,onUpdate:n,onDelete:l,onMove:r}){const[c,d]=(0,s.useState)(!1),[m,u]=(0,s.useState)(e),h=()=>{n(e.id,m),d(!1)},p=()=>{u(e),d(!1)};return c?(0,o.jsx)("div",{className:i.navigationItem,children:(0,o.jsxs)("div",{className:i.navItemEditor,children:[(0,o.jsxs)("div",{className:i.formRow,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udff7\ufe0f Label"}),(0,o.jsx)("input",{type:"text",value:m.label,onChange:e=>u({...m,label:e.target.value}),className:i.inputField,placeholder:"Menu Label"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udd17 URL"}),(0,o.jsx)("input",{type:"text",value:m.url,onChange:e=>u({...m,url:e.target.value}),className:i.inputField,placeholder:"/docs or https://example.com"})]})]}),(0,o.jsxs)("div",{className:i.formRow,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcc2 Type"}),(0,o.jsxs)("select",{value:m.type||"internal",onChange:e=>u({...m,type:e.target.value}),className:i.selectField,children:[(0,o.jsx)("option",{value:"internal",children:"\ud83d\udcc4 Internal Link"}),(0,o.jsx)("option",{value:"external",children:"\ud83c\udf10 External Link"}),(0,o.jsx)("option",{value:"dropdown",children:"\ud83d\udccb Dropdown Menu"})]})]}),(0,o.jsx)("div",{className:i.formGroup,children:(0,o.jsxs)("label",{className:i.checkboxLabel,children:[(0,o.jsx)("input",{type:"checkbox",checked:m.newTab||!1,onChange:e=>u({...m,newTab:e.target.checked})}),(0,o.jsx)("span",{children:"\ud83d\udd17 Open in New Tab"})]})})]}),(0,o.jsxs)("div",{className:i.editorActions,children:[(0,o.jsx)("button",{className:i.cancelButton,onClick:p,children:"\u274c Cancel"}),(0,o.jsx)("button",{className:i.saveButton,onClick:h,children:"\u2705 Save Changes"})]})]})}):(0,o.jsx)("div",{className:i.navigationItem,children:(0,o.jsxs)("div",{className:i.navItemContent,children:[(0,o.jsxs)("div",{className:i.navItemInfo,children:[(0,o.jsxs)("div",{className:i.navItemHeader,children:[(0,o.jsxs)("span",{className:i.navItemLabel,children:["\ud83c\udff7\ufe0f ",e.label]}),(0,o.jsxs)("div",{className:i.navItemBadges,children:[(0,o.jsx)("span",{className:i.navItemType,children:"external"===e.type?"\ud83c\udf10 External":"dropdown"===e.type?"\ud83d\udccb Dropdown":"\ud83d\udcc4 Internal"}),e.newTab&&(0,o.jsx)("span",{className:i.navItemBadge,children:"\u2197\ufe0f New Tab"})]})]}),(0,o.jsxs)("div",{className:i.navItemUrl,children:["\ud83d\udd17 ",e.url]})]}),(0,o.jsxs)("div",{className:i.navItemActions,children:[(0,o.jsx)("button",{className:i.iconButton,onClick:()=>r(e.id,"up"),disabled:0===t,title:"Move Up",children:"\u2b06\ufe0f"}),(0,o.jsx)("button",{className:i.iconButton,onClick:()=>r(e.id,"down"),disabled:t===a-1,title:"Move Down",children:"\u2b07\ufe0f"}),(0,o.jsx)("button",{className:i.iconButton,onClick:()=>d(!0),title:"Edit",children:"\u270f\ufe0f"}),(0,o.jsx)("button",{className:i.iconButton,onClick:()=>l(e.id),title:"Delete",children:"\ud83d\uddd1\ufe0f"})]})]})})}function B({onSave:e,onCancel:t}){const[a,n]=(0,s.useState)({label:"",url:"",type:"internal",newTab:!1}),[l,r]=(0,s.useState)({});return(0,o.jsx)("div",{className:i.formOverlay,children:(0,o.jsxs)("div",{className:i.formModal,children:[(0,o.jsxs)("div",{className:i.modalHeader,children:[(0,o.jsx)("h3",{children:"\u2795 Add Navigation Item"}),(0,o.jsx)("button",{className:i.closeButton,onClick:t,children:"\u2715"})]}),(0,o.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(()=>{const e={};return a.label.trim()||(e.label="Menu label is required"),a.url.trim()?"external"!==a.type||a.url.startsWith("http")?"internal"!==a.type||a.url.startsWith("/")||(e.url="Internal URLs must start with /"):e.url="External URLs must start with http:// or https://":e.url="URL is required",r(e),0===Object.keys(e).length})()&&e(a)},children:[(0,o.jsxs)("div",{className:i.modalContent,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udff7\ufe0f Menu Label *"}),(0,o.jsx)("input",{type:"text",value:a.label,onChange:e=>n({...a,label:e.target.value}),className:`${i.inputField} ${l.label?i.inputError:""}`,placeholder:"e.g., Documentation, Blog, About"}),l.label&&(0,o.jsx)("span",{className:i.errorText,children:l.label}),(0,o.jsx)("div",{className:i.inputHint,children:"This text will appear in the navigation menu"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ufffd Link Type"}),(0,o.jsx)("div",{className:i.typeSelector,children:[{value:"internal",label:"\ud83d\udcc4 Internal Page",desc:"Link to pages within your site"},{value:"external",label:"\ud83c\udf10 External Link",desc:"Link to external websites"},{value:"dropdown",label:"\ud83d\udccb Dropdown Menu",desc:"Menu with sub-items"}].map((e=>(0,o.jsxs)("label",{className:i.typeOption,children:[(0,o.jsx)("input",{type:"radio",name:"type",value:e.value,checked:a.type===e.value,onChange:()=>(e=>{n({...a,type:e,newTab:"external"===e||a.newTab,url:"external"===e&&a.url.startsWith("/")?"https://":a.url})})(e.value)}),(0,o.jsxs)("div",{className:i.typeContent,children:[(0,o.jsx)("span",{className:i.typeLabel,children:e.label}),(0,o.jsx)("span",{className:i.typeDesc,children:e.desc})]})]},e.value)))})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ufffd URL *"}),(0,o.jsx)("input",{type:"text",value:a.url,onChange:e=>n({...a,url:e.target.value}),className:`${i.inputField} ${l.url?i.inputError:""}`,placeholder:"external"===a.type?"https://github.com/your-repo":"dropdown"===a.type?"#":"/docs"}),l.url&&(0,o.jsx)("span",{className:i.errorText,children:l.url}),(0,o.jsxs)("div",{className:i.inputHint,children:["external"===a.type&&"Full URL including https://","internal"===a.type&&"Relative path starting with /","dropdown"===a.type&&"Use # for dropdown menus"]})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsxs)("label",{className:i.checkboxLabel,children:[(0,o.jsx)("input",{type:"checkbox",checked:a.newTab,onChange:e=>n({...a,newTab:e.target.checked})}),(0,o.jsx)("span",{children:"\ud83d\udd17 Open in New Tab"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"external"===a.type?"Recommended for external links":"Keep users on your site for internal pages"})]})]}),(0,o.jsxs)("div",{className:i.modalActions,children:[(0,o.jsx)("button",{type:"button",className:i.cancelButton,onClick:t,children:"\u274c Cancel"}),(0,o.jsx)("button",{type:"submit",className:i.primaryButton,children:"\u2705 Add Menu Item"})]})]})]})})}function A({onSave:e,onCancel:t}){const[a,n]=(0,s.useState)({title:"",items:[]}),[l,r]=(0,s.useState)({}),c=(e,t,s)=>{const i=[...a.items];i[e]={...i[e],[t]:s},n({...a,items:i})};return(0,o.jsx)("div",{className:i.modalOverlay,children:(0,o.jsxs)("div",{className:i.modalContent,children:[(0,o.jsx)("h3",{children:"\u2795 Add Footer Group"}),(0,o.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(()=>{const e={};return a.title.trim()||(e.title="Title is required"),r(e),0===Object.keys(e).length})()&&e(a)},children:[(0,o.jsxs)("div",{className:i.modalBody,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udff7\ufe0f Group Title *"}),(0,o.jsx)("input",{type:"text",value:a.title,onChange:e=>n({...a,title:e.target.value}),className:`${i.inputField} ${l.title?i.inputError:""}`,placeholder:"e.g., Products, Community, Company"}),l.title&&(0,o.jsx)("span",{className:i.errorText,children:l.title})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsxs)("div",{className:i.itemsHeader,children:[(0,o.jsx)("label",{children:"\ud83d\udd17 Footer Links"}),(0,o.jsx)("button",{type:"button",className:i.addItemButton,onClick:()=>{n({...a,items:[...a.items,{label:"",to:"",href:""}]})},children:"\u2795 Add Link"})]}),a.items.map(((e,t)=>(0,o.jsxs)("div",{className:i.footerItemForm,children:[(0,o.jsx)("input",{type:"text",placeholder:"Link Label",value:e.label,onChange:e=>c(t,"label",e.target.value),className:i.inputField}),(0,o.jsx)("input",{type:"text",placeholder:"URL (internal: /blog or external: https://...)",value:e.to||e.href||"",onChange:e=>{const a=e.target.value,s=a.startsWith("http");c(t,s?"href":"to",a),c(t,s?"to":"href","")},className:i.inputField}),(0,o.jsx)("button",{type:"button",className:i.removeItemButton,onClick:()=>(e=>{const t=a.items.filter(((t,a)=>a!==e));n({...a,items:t})})(t),children:"\ud83d\uddd1\ufe0f"})]},t))),0===a.items.length&&(0,o.jsx)("p",{className:i.hintText,children:'Click "Add Link" to create footer links for this group'})]})]}),(0,o.jsxs)("div",{className:i.modalActions,children:[(0,o.jsx)("button",{type:"button",className:i.cancelButton,onClick:t,children:"\u274c Cancel"}),(0,o.jsx)("button",{type:"submit",className:i.primaryButton,children:"\u2705 Add Group"})]})]})]})})}function P({group:e,groupIndex:t,onUpdate:a,onDelete:n,onAddItem:l,onDeleteItem:r}){const[c,d]=(0,s.useState)(!1),[m,u]=(0,s.useState)(e),h=()=>{a(t,m),d(!1)},p=()=>{u(e),d(!1)},g=()=>{l(t,{label:"New Link",to:"#"})},x=(e,t,a)=>{const s=[...m.items];s[e]={...s[e],[t]:a},u({...m,items:s})};return c?(0,o.jsxs)("div",{className:i.footerGroupEditor,children:[(0,o.jsxs)("div",{className:i.groupHeader,children:[(0,o.jsx)("input",{type:"text",value:m.title,onChange:e=>u({...m,title:e.target.value}),className:i.groupTitleInput}),(0,o.jsxs)("div",{className:i.groupActions,children:[(0,o.jsx)("button",{className:i.cancelButton,onClick:p,children:"\u274c"}),(0,o.jsx)("button",{className:i.saveButton,onClick:h,children:"\u2705"})]})]}),(0,o.jsxs)("div",{className:i.groupItems,children:[m.items.map(((e,a)=>(0,o.jsxs)("div",{className:i.footerItemEditor,children:[(0,o.jsx)("input",{type:"text",value:e.label,onChange:e=>x(a,"label",e.target.value),className:i.itemInput,placeholder:"Link Label"}),(0,o.jsx)("input",{type:"text",value:e.to||e.href||"",onChange:e=>{const t=e.target.value,s=t.startsWith("http");x(a,s?"href":"to",t),x(a,s?"to":"href","")},className:i.itemInput,placeholder:"URL"}),(0,o.jsx)("button",{className:i.deleteItemButton,onClick:()=>r(t,a),children:"\ud83d\uddd1\ufe0f"})]},a))),(0,o.jsx)("button",{className:i.addItemButton,onClick:g,children:"\u2795 Add Link"})]})]}):(0,o.jsxs)("div",{className:i.footerGroup,children:[(0,o.jsxs)("div",{className:i.groupHeader,children:[(0,o.jsxs)("h4",{children:["\ud83d\udcc2 ",e.title]}),(0,o.jsxs)("div",{className:i.groupActions,children:[(0,o.jsx)("button",{className:i.editButton,onClick:()=>d(!0),children:"\u270f\ufe0f Edit"}),(0,o.jsx)("button",{className:i.deleteButton,onClick:()=>n(t),children:"\ud83d\uddd1\ufe0f Delete"})]})]}),(0,o.jsxs)("div",{className:i.groupItems,children:[e.items.map(((e,t)=>(0,o.jsxs)("div",{className:i.footerItem,children:[(0,o.jsxs)("span",{className:i.itemLabel,children:["\ud83d\udd17 ",e.label]}),(0,o.jsx)("span",{className:i.itemUrl,children:e.href?(0,o.jsxs)(o.Fragment,{children:["\ud83c\udf10 ",e.href]}):(0,o.jsxs)(o.Fragment,{children:["\ud83d\udcc4 ",e.to]})})]},t))),0===e.items.length&&(0,o.jsx)("p",{className:i.emptyItems,children:"No links in this group"})]})]})}function D(){const[e,t]=(0,s.useState)("theme"),[a,n]=(0,s.useState)({}),[l,r]=(0,s.useState)(!0),[c,h]=(0,s.useState)(!1),[p,g]=(0,s.useState)(""),[x,v]=(0,s.useState)("");(0,s.useEffect)((()=>{j()}),[]);const j=async()=>{try{const e=localStorage.getItem("adminToken"),t=await fetch("/api/admin/appearance",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();n(e)}}catch(x){console.error("Failed to fetch appearance settings:",x),v("Failed to load appearance settings")}finally{r(!1)}},y=async e=>{h(!0),v("");try{const t=localStorage.getItem("adminToken");(await fetch("/api/admin/appearance",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)})).ok?(g("Appearance updated successfully!"),n((t=>({...t,...e})))):v("Failed to save appearance settings")}catch(x){console.error("Failed to save appearance:",x),v("Failed to save appearance settings")}finally{h(!1)}};return l?(0,o.jsx)(d,{message:"Loading appearance settings..."}):(0,o.jsxs)("div",{className:i.tabContent,children:[(0,o.jsxs)("div",{className:i.tabHeader,children:[(0,o.jsx)("h2",{children:"\ud83c\udfa8 Appearance"}),(0,o.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:i.previewButton,children:"\ud83d\udc41\ufe0f Preview Changes"})]}),p&&(0,o.jsx)(u,{message:p,onClose:()=>g("")}),x&&(0,o.jsx)(m,{message:x,onRetry:()=>v("")}),(0,o.jsxs)("div",{className:i.settingsLayout,children:[(0,o.jsx)("div",{className:i.settingsSidebar,children:[{id:"theme",label:"\ud83c\udfa8 Theme",icon:"\ud83c\udfa8"},{id:"colors",label:"\ud83c\udf08 Colors",icon:"\ud83c\udf08"},{id:"fonts",label:"\ud83d\udd24 Fonts",icon:"\ud83d\udd24"},{id:"logo",label:"\ud83d\uddbc\ufe0f Logo",icon:"\ud83d\uddbc\ufe0f"}].map((a=>(0,o.jsxs)("button",{className:`${i.settingsTab} ${e===a.id?i.active:""}`,onClick:()=>t(a.id),children:[(0,o.jsx)("span",{children:a.icon}),a.label]},a.id)))}),(0,o.jsxs)("div",{className:i.settingsContent,children:["theme"===e&&(0,o.jsx)(G,{settings:a,onSave:y,saving:c}),"colors"===e&&(0,o.jsx)(L,{settings:a,onSave:y,saving:c}),"fonts"===e&&(0,o.jsx)(H,{settings:a,onSave:y,saving:c}),"logo"===e&&(0,o.jsx)(E,{settings:a,onSave:y,saving:c})]})]})]})}function G({settings:e,onSave:t,saving:a}){const[n,l]=(0,s.useState)(e.theme||"light"),[r,c]=(0,s.useState)(e.enableDarkMode||!0);return(0,o.jsxs)("div",{className:i.settingsSection,children:[(0,o.jsx)("h3",{children:"\ud83c\udfa8 Theme Settings"}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({theme:n,enableDarkMode:r})},children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udfad Default Theme"}),(0,o.jsx)("div",{className:i.themeGrid,children:[{id:"light",name:"\u2600\ufe0f Light Theme",description:"Clean and bright design"},{id:"dark",name:"\ud83c\udf19 Dark Theme",description:"Easy on the eyes"},{id:"auto",name:"\ud83d\udd04 Auto Theme",description:"Follows system preference"}].map((e=>(0,o.jsxs)("div",{className:`${i.themeCard} ${n===e.id?i.selected:""}`,onClick:()=>l(e.id),children:[(0,o.jsx)("input",{type:"radio",name:"theme",value:e.id,checked:n===e.id,onChange:()=>l(e.id),style:{display:"none"}}),(0,o.jsxs)("div",{className:i.themePreview,children:[(0,o.jsx)("div",{className:i.themeName,children:e.name}),(0,o.jsx)("div",{className:i.themeDescription,children:e.description})]})]},e.id)))})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsxs)("label",{className:i.checkboxLabel,children:[(0,o.jsx)("input",{type:"checkbox",checked:r,onChange:e=>c(e.target.checked)}),(0,o.jsx)("span",{children:"\ud83c\udf19 Show Dark Mode Toggle"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Allow visitors to switch between light and dark themes"})]}),(0,o.jsx)("button",{type:"submit",disabled:a,className:i.saveButton,children:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),"Applying Theme..."]}):(0,o.jsx)(o.Fragment,{children:"\ud83d\udcbe Apply Theme Settings"})})]})]})}function L({settings:e,onSave:t,saving:a}){const[n,l]=(0,s.useState)(e.primaryColor||"#2874A6"),[r,c]=(0,s.useState)(e.secondaryColor||"#F2F4F4"),[d,m]=(0,s.useState)(e.accentColor||"#27AE60"),[u,h]=(0,s.useState)(e.warningColor||"#F4D03F"),[p,g]=(0,s.useState)(e.lightBackgroundColor||"#FFFFFF"),[x,v]=(0,s.useState)(e.lightTextColor||"#2C3E50"),[j,y]=(0,s.useState)(e.darkBackgroundColor||"#2C3E50"),[N,f]=(0,s.useState)(e.darkTextColor||"#FFFFFF"),[b,C]=(0,s.useState)(e.darkPrimaryColor||"#4193C8");return(0,o.jsxs)("div",{className:i.settingsSection,children:[(0,o.jsx)("h3",{children:"\ud83c\udf08 Color Settings"}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({primaryColor:n,secondaryColor:r,accentColor:d,warningColor:u,lightBackgroundColor:p,lightTextColor:x,darkBackgroundColor:j,darkTextColor:N,darkPrimaryColor:b})},children:[(0,o.jsxs)("div",{className:i.colorSection,children:[(0,o.jsx)("h4",{children:"\u2600\ufe0f Light Theme Colors"}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udfa8 Primary Color (Light)"}),(0,o.jsxs)("div",{className:i.colorInput,children:[(0,o.jsx)("input",{type:"color",value:n,onChange:e=>l(e.target.value),className:i.colorPicker}),(0,o.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),className:i.colorValue,placeholder:"#2874A6"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Header & main theme color for light theme"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udd33 Background Color (Light)"}),(0,o.jsxs)("div",{className:i.colorInput,children:[(0,o.jsx)("input",{type:"color",value:p,onChange:e=>g(e.target.value),className:i.colorPicker}),(0,o.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),className:i.colorValue,placeholder:"#FFFFFF"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Background color for light theme"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ufffd Text Color (Light)"}),(0,o.jsxs)("div",{className:i.colorInput,children:[(0,o.jsx)("input",{type:"color",value:x,onChange:e=>v(e.target.value),className:i.colorPicker}),(0,o.jsx)("input",{type:"text",value:x,onChange:e=>v(e.target.value),className:i.colorValue,placeholder:"#2C3E50"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Primary text color for light theme"})]})]}),(0,o.jsxs)("div",{className:i.colorSection,children:[(0,o.jsx)("h4",{children:"\ud83c\udf19 Dark Theme Colors"}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udfa8 Primary Color (Dark)"}),(0,o.jsxs)("div",{className:i.colorInput,children:[(0,o.jsx)("input",{type:"color",value:b,onChange:e=>C(e.target.value),className:i.colorPicker}),(0,o.jsx)("input",{type:"text",value:b,onChange:e=>C(e.target.value),className:i.colorValue,placeholder:"#4193C8"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Header & main theme color for dark theme"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\u2b1b Background Color (Dark)"}),(0,o.jsxs)("div",{className:i.colorInput,children:[(0,o.jsx)("input",{type:"color",value:j,onChange:e=>y(e.target.value),className:i.colorPicker}),(0,o.jsx)("input",{type:"text",value:j,onChange:e=>y(e.target.value),className:i.colorValue,placeholder:"#2C3E50"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Background color for dark theme"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udd24 Text Color (Dark)"}),(0,o.jsxs)("div",{className:i.colorInput,children:[(0,o.jsx)("input",{type:"color",value:N,onChange:e=>f(e.target.value),className:i.colorPicker}),(0,o.jsx)("input",{type:"text",value:N,onChange:e=>f(e.target.value),className:i.colorValue,placeholder:"#FFFFFF"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Primary text color for dark theme"})]})]}),(0,o.jsxs)("div",{className:i.colorSection,children:[(0,o.jsx)("h4",{children:"\ud83c\udfad Shared Theme Colors"}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udd35 Secondary Color"}),(0,o.jsxs)("div",{className:i.colorInput,children:[(0,o.jsx)("input",{type:"color",value:r,onChange:e=>c(e.target.value),className:i.colorPicker}),(0,o.jsx)("input",{type:"text",value:r,onChange:e=>c(e.target.value),className:i.colorValue,placeholder:"#F2F4F4"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Light gray for secondary sections (both themes)"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\u2705 Success/CTA Color"}),(0,o.jsxs)("div",{className:i.colorInput,children:[(0,o.jsx)("input",{type:"color",value:d,onChange:e=>m(e.target.value),className:i.colorPicker}),(0,o.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),className:i.colorValue,placeholder:"#27AE60"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Used for CTA buttons and success states"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\u26a0\ufe0f Warning/Highlight Color"}),(0,o.jsxs)("div",{className:i.colorInput,children:[(0,o.jsx)("input",{type:"color",value:u,onChange:e=>h(e.target.value),className:i.colorPicker}),(0,o.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),className:i.colorValue,placeholder:"#F4D03F"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Used for highlights and warning elements"})]})]}),(0,o.jsxs)("div",{className:i.buttonGroup,children:[(0,o.jsx)("button",{type:"button",onClick:()=>{l("#2874A6"),c("#F2F4F4"),m("#27AE60"),h("#F4D03F"),g("#FFFFFF"),v("#2C3E50"),y("#2C3E50"),f("#FFFFFF"),C("#4193C8")},className:i.resetButton,children:"\ud83d\udd04 Reset to Default"}),(0,o.jsx)("button",{type:"submit",disabled:a,className:i.saveButton,children:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),"Applying Colors..."]}):(0,o.jsx)(o.Fragment,{children:"\ud83d\udcbe Apply Colors"})})]})]})]})}function H({settings:e,onSave:t,saving:a}){const[n,l]=(0,s.useState)(e.headingFont||"system-ui"),[r,c]=(0,s.useState)(e.bodyFont||"system-ui"),[d,m]=(0,s.useState)(e.codeFont||"SFMono-Regular"),u=[{value:"system-ui",label:"System UI (Default)"},{value:"Inter",label:"Inter"},{value:"Roboto",label:"Roboto"},{value:"Open Sans",label:"Open Sans"},{value:"Lato",label:"Lato"},{value:"Poppins",label:"Poppins"}];return(0,o.jsxs)("div",{className:i.settingsSection,children:[(0,o.jsx)("h3",{children:"\ud83d\udd24 Font Settings"}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({headingFont:n,bodyFont:r,codeFont:d})},children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcf0 Heading Font"}),(0,o.jsx)("select",{value:n,onChange:e=>l(e.target.value),className:i.selectField,children:u.map((e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,o.jsx)("div",{className:i.inputHint,children:"Used for page titles and headings"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcdd Body Font"}),(0,o.jsx)("select",{value:r,onChange:e=>c(e.target.value),className:i.selectField,children:u.map((e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,o.jsx)("div",{className:i.inputHint,children:"Used for body text and paragraphs"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcbb Code Font"}),(0,o.jsx)("select",{value:d,onChange:e=>m(e.target.value),className:i.selectField,children:[{value:"SFMono-Regular",label:"SF Mono (Default)"},{value:"Consolas",label:"Consolas"},{value:"Monaco",label:"Monaco"},{value:"Menlo",label:"Menlo"},{value:"Source Code Pro",label:"Source Code Pro"}].map((e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,o.jsx)("div",{className:i.inputHint,children:"Used for code blocks and inline code"})]}),(0,o.jsx)("button",{type:"submit",disabled:a,className:i.saveButton,children:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),"Applying Fonts..."]}):(0,o.jsx)(o.Fragment,{children:"\ud83d\udcbe Apply Font Settings"})})]})]})}function E({settings:e,onSave:t,saving:a}){const[n,l]=(0,s.useState)(e.logoUrl||""),[r,c]=(0,s.useState)(e.logoAlt||""),[d,m]=(0,s.useState)(!1!==e.showTitle),[u,h]=(0,s.useState)("url"),[p,g]=(0,s.useState)("");return(0,o.jsxs)("div",{className:i.settingsSection,children:[(0,o.jsx)("h3",{children:"\ud83d\uddbc\ufe0f Logo Settings"}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault();const a=(s=n).trim()?s.startsWith("/")||s.startsWith("http://")||s.startsWith("https://")||s.startsWith("data:image/")?"":"Please enter a valid path (e.g., /img/logo.svg) or URL (e.g., https://example.com/logo.png)":"Logo URL is required";var s;a?g(a):(g(""),t({logoUrl:n,logoAlt:r,showTitle:d}))},children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\uddbc\ufe0f Logo Source"}),(0,o.jsxs)("div",{className:i.logoModeSelector,children:[(0,o.jsx)("button",{type:"button",className:`${i.modeButton} ${"url"===u?i.active:""}`,onClick:()=>h("url"),children:"\ud83d\udd17 Custom URL"}),(0,o.jsx)("button",{type:"button",className:`${i.modeButton} ${"preset"===u?i.active:""}`,onClick:()=>h("preset"),children:"\ud83d\udcc1 Preset Logos"})]})]}),"url"===u&&(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udd17 Logo URL"}),(0,o.jsx)("input",{type:"text",value:n,onChange:e=>{const t=e.target.value;l(t),p&&g("")},className:`${i.inputField} ${p?i.inputError:""}`,placeholder:"/img/logo.svg or https://example.com/logo.png"}),p&&(0,o.jsx)("span",{className:i.errorText,children:p}),(0,o.jsxs)("div",{className:i.inputHint,children:["Enter a direct link to your logo (SVG, PNG, or JPG recommended)",(0,o.jsx)("br",{}),"\u2022 Use relative paths like: /img/logo.svg",(0,o.jsx)("br",{}),"\u2022 Or external URLs like: https://example.com/logo.png"]})]}),"preset"===u&&(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcc1 Choose from Preset Logos"}),(0,o.jsx)("div",{className:i.presetGrid,children:[{url:"/img/logo.svg",name:"Default Docusaurus"},{url:"https://docusaurus.io/img/docusaurus.png",name:"Docusaurus Logo"},{url:"/img/docusaurus.png",name:"Docusaurus PNG"}].map(((e,t)=>(0,o.jsxs)("div",{className:`${i.presetOption} ${n===e.url?i.selected:""}`,onClick:()=>{return t=e.url,l(t),void g("");var t},children:[(0,o.jsx)("img",{src:e.url,alt:e.name,className:i.presetImage,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,o.jsx)("div",{className:i.presetError,style:{display:"none"},children:"\u274c Error"}),(0,o.jsx)("p",{children:e.name})]},t)))}),(0,o.jsx)("div",{className:i.inputHint,children:"Click on a logo to select it"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udff7\ufe0f Logo Alt Text"}),(0,o.jsx)("input",{type:"text",value:r,onChange:e=>c(e.target.value),className:i.inputField,placeholder:"Your Site Logo"}),(0,o.jsx)("div",{className:i.inputHint,children:"Alternative text for accessibility and SEO"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsxs)("label",{className:i.checkboxLabel,children:[(0,o.jsx)("input",{type:"checkbox",checked:d,onChange:e=>m(e.target.checked)}),(0,o.jsx)("span",{children:"\ud83d\udcdd Show Site Title Next to Logo"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Display site title alongside the logo in navigation"})]}),n&&(0,o.jsxs)("div",{className:i.logoPreview,children:[(0,o.jsx)("h4",{children:"\ud83d\udd0d Logo Preview"}),(0,o.jsxs)("div",{className:i.previewContainer,children:[(0,o.jsx)("img",{src:n,alt:r,className:i.logoPreviewImage,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,o.jsxs)("div",{className:i.logoError,style:{display:"none"},children:["\u274c Could not load logo from: ",n]}),d&&(0,o.jsx)("span",{className:i.titlePreview,children:"Your Site Title"})]})]}),(0,o.jsx)("button",{type:"submit",disabled:a,className:i.saveButton,children:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),"Updating Logo..."]}):(0,o.jsx)(o.Fragment,{children:"\ud83d\udcbe Update Logo Settings"})})]})]})}function M(){const[e,t]=(0,s.useState)("general"),[a,n]=(0,s.useState)({}),[l,r]=(0,s.useState)(!0),[c,h]=(0,s.useState)(!1),[p,g]=(0,s.useState)(""),[x,v]=(0,s.useState)("");(0,s.useEffect)((()=>{j()}),[]);const j=async()=>{try{const e=localStorage.getItem("adminToken"),t=await fetch("/api/admin/settings",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();n(e)}}catch(x){console.error("Failed to fetch settings:",x),v("Failed to load settings")}finally{r(!1)}},y=async e=>{console.log("\ud83d\udd27 SettingsTab handleSave called with:",e),h(!0),v("");try{const t=localStorage.getItem("adminToken"),a=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(console.log("\ud83c\udf10 Settings API response status:",a.status),a.ok){const t=await a.json();console.log("\u2705 Settings save response:",t),g("Settings updated successfully!"),n((t=>{const a={...t,...e};return console.log("\ud83d\udcdd Updated settings state:",a),a})),setTimeout((()=>g("")),3e3)}else{const e=await a.text();console.error("\u274c Settings save error:",e),v("Failed to save settings")}}catch(x){console.error("\u274c Network error saving settings:",x),v("Failed to save settings")}finally{h(!1)}};return l?(0,o.jsx)(d,{message:"Loading settings..."}):(0,o.jsxs)("div",{className:i.tabContent,children:[(0,o.jsxs)("div",{className:i.tabHeader,children:[(0,o.jsx)("h2",{children:"\u2699\ufe0f Site Settings"}),(0,o.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:i.previewButton,children:"\ud83d\udc41\ufe0f Preview Site"})]}),p&&(0,o.jsx)(u,{message:p,onClose:()=>g("")}),x&&(0,o.jsx)(m,{message:x,onRetry:()=>v("")}),(0,o.jsxs)("div",{className:i.settingsLayout,children:[(0,o.jsx)("div",{className:i.settingsSidebar,children:[{id:"general",label:"\ud83c\udf10 General",icon:"\ud83c\udf10"},{id:"seo",label:"\ud83d\udcc8 SEO",icon:"\ud83d\udcc8"},{id:"social",label:"\ud83d\udcf1 Social",icon:"\ud83d\udcf1"},{id:"advanced",label:"\u2699\ufe0f Advanced",icon:"\u2699\ufe0f"}].map((a=>(0,o.jsxs)("button",{className:`${i.settingsTab} ${e===a.id?i.active:""}`,onClick:()=>t(a.id),children:[(0,o.jsx)("span",{children:a.icon}),a.label]},a.id)))}),(0,o.jsxs)("div",{className:i.settingsContent,children:["general"===e&&(0,o.jsx)(U,{settings:a,onSave:y,saving:c}),"seo"===e&&(0,o.jsx)($,{settings:a,onSave:y,saving:c}),"social"===e&&(0,o.jsx)(R,{settings:a,onSave:y,saving:c}),"advanced"===e&&(0,o.jsx)(O,{settings:a,onSave:y,saving:c})]})]})]})}function U({settings:e,onSave:t,saving:a}){const[n,l]=(0,s.useState)(e.title||""),[r,c]=(0,s.useState)(e.tagline||""),[d,m]=(0,s.useState)(e.url||"");(0,s.useEffect)((()=>{l(e.title||""),c(e.tagline||""),m(e.url||"")}),[e]);return(0,o.jsxs)("div",{className:i.settingsSection,children:[(0,o.jsx)("h3",{children:"\ud83c\udf10 General Settings"}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({title:n,tagline:r,url:d})},children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcdd Site Title"}),(0,o.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),className:i.inputField,placeholder:"My Awesome Documentation Site"}),(0,o.jsx)("div",{className:i.inputHint,children:"Appears in browser title and site header"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udccb Site Tagline"}),(0,o.jsx)("input",{type:"text",value:r,onChange:e=>c(e.target.value),className:i.inputField,placeholder:"Your comprehensive documentation hub"}),(0,o.jsx)("div",{className:i.inputHint,children:"Subtitle shown on homepage and meta descriptions"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udf10 Site URL"}),(0,o.jsx)("input",{type:"url",value:d,onChange:e=>m(e.target.value),className:i.inputField,placeholder:"https://yourdomain.com"}),(0,o.jsx)("div",{className:i.inputHint,children:"Used for canonical URLs and social sharing"})]}),(0,o.jsx)("button",{type:"submit",disabled:a,className:i.saveButton,children:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),"Saving..."]}):(0,o.jsx)(o.Fragment,{children:"\ud83d\udcbe Save General Settings"})})]})]})}function $({settings:e,onSave:t,saving:a}){const[n,l]=(0,s.useState)(e.metaDescription||""),[r,c]=(0,s.useState)(e.keywords||""),[d,m]=(0,s.useState)(e.socialImage||""),[u,h]=(0,s.useState)("url"),[p,g]=(0,s.useState)(!1);(0,s.useEffect)((()=>{l(e.metaDescription||""),c(e.keywords||""),m(e.socialImage||"")}),[e]);return(0,o.jsxs)("div",{className:i.settingsSection,children:[(0,o.jsx)("h3",{children:"\ud83d\udcc8 SEO & Social Settings"}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({metaDescription:n,keywords:r,socialImage:d})},children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcc4 Meta Description"}),(0,o.jsx)("textarea",{value:n,onChange:e=>l(e.target.value),className:i.textareaField,rows:3,placeholder:"Comprehensive documentation and guides for developers..."}),(0,o.jsx)("div",{className:i.inputHint,children:"Shown in search engine results (150-160 characters recommended)"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udff7\ufe0f Keywords"}),(0,o.jsx)("input",{type:"text",value:r,onChange:e=>c(e.target.value),className:i.inputField,placeholder:"documentation, guides, tutorials, API"}),(0,o.jsx)("div",{className:i.inputHint,children:"Comma-separated keywords for search engines"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcf1 Social Sharing Image"}),(0,o.jsx)("div",{className:i.socialImageControls,children:(0,o.jsxs)("div",{className:i.modeSelector,children:[(0,o.jsxs)("label",{className:i.radioLabel,children:[(0,o.jsx)("input",{type:"radio",name:"socialImageMode",checked:"url"===u,onChange:()=>h("url")}),(0,o.jsx)("span",{children:"\ud83d\udd17 URL"})]}),(0,o.jsxs)("label",{className:i.radioLabel,children:[(0,o.jsx)("input",{type:"radio",name:"socialImageMode",checked:"upload"===u,onChange:()=>h("upload")}),(0,o.jsx)("span",{children:"\ud83d\udcc1 Upload"})]}),(0,o.jsxs)("label",{className:i.radioLabel,children:[(0,o.jsx)("input",{type:"radio",name:"socialImageMode",checked:"preset"===u,onChange:()=>h("preset")}),(0,o.jsx)("span",{children:"\ud83c\udfa8 Preset"})]})]})}),"url"===u&&(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),className:i.inputField,placeholder:"https://example.com/social-image.jpg"}),(0,o.jsx)("div",{className:i.inputHint,children:"Direct URL to your social sharing image (recommended: 1200x630px)"})]}),"upload"===u&&(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("input",{type:"file",id:"socialImageUpload",onChange:async e=>{const a=e.target.files[0];if(!a)return;g(!0);const s=new FormData;s.append("file",a);try{const e=localStorage.getItem("adminToken"),a=await fetch("/api/admin/media/upload",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});if(a.ok){const e=await a.json();m(e.path),t({metaDescription:n,keywords:r,socialImage:e.path})}}catch(i){console.error("Failed to upload social image:",i)}finally{g(!1)}},accept:".jpg,.jpeg,.png,.webp",style:{display:"none"}}),(0,o.jsx)("button",{type:"button",className:i.uploadButton,onClick:()=>document.getElementById("socialImageUpload").click(),disabled:p,children:p?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.uploadSpinner,children:"\u23f3"}),"Uploading..."]}):(0,o.jsx)(o.Fragment,{children:"\ud83d\udcc1 Choose Social Image"})}),(0,o.jsx)("div",{className:i.inputHint,children:"Upload JPG, PNG, or WebP image (recommended: 1200x630px for optimal social sharing)"})]}),"preset"===u&&(0,o.jsx)("div",{className:i.presetGrid,children:[{name:"Default Docusaurus",url:"/img/docusaurus-social-card.jpg"},{name:"Docusaurus Brand",url:"https://docusaurus.io/img/docusaurus-social-card.jpg"},{name:"Tech Blue",url:"https://via.placeholder.com/1200x630/2563eb/ffffff?text=Documentation"},{name:"Success Green",url:"https://via.placeholder.com/1200x630/16a34a/ffffff?text=Documentation"}].map(((e,t)=>(0,o.jsxs)("div",{className:`${i.presetOption} ${d===e.url?i.selected:""}`,onClick:()=>m(e.url),children:[(0,o.jsx)("img",{src:e.url,alt:e.name,className:i.presetSocialImage,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,o.jsx)("div",{className:i.presetError,style:{display:"none"},children:"\u274c Error"}),(0,o.jsx)("p",{children:e.name})]},t)))}),d&&(0,o.jsxs)("div",{className:i.socialImagePreview,children:[(0,o.jsx)("h4",{children:"\ud83d\udd0d Social Image Preview"}),(0,o.jsxs)("div",{className:i.previewContainer,children:[(0,o.jsx)("img",{src:d,alt:"Social Sharing Preview",className:i.socialImagePreviewImage,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,o.jsxs)("div",{className:i.socialImageError,style:{display:"none"},children:["\u274c Could not load social image from: ",d]}),(0,o.jsx)("div",{className:i.imageInfo,children:(0,o.jsx)("small",{children:"This image will appear when your site is shared on social media platforms"})})]})]})]}),(0,o.jsx)("button",{type:"submit",disabled:a,className:i.saveButton,children:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),"Saving..."]}):(0,o.jsx)(o.Fragment,{children:"\ud83d\udcbe Save SEO Settings"})})]})]})}function R({settings:e,onSave:t,saving:a}){const[n,l]=(0,s.useState)(e.twitter||""),[r,c]=(0,s.useState)(e.github||""),[d,m]=(0,s.useState)(e.linkedin||"");(0,s.useEffect)((()=>{l(e.twitter||""),c(e.github||""),m(e.linkedin||"")}),[e]);return(0,o.jsxs)("div",{className:i.settingsSection,children:[(0,o.jsx)("h3",{children:"\ud83d\udcf1 Social Media"}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({twitter:n,github:r,linkedin:d})},children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udc26 Twitter/X Handle"}),(0,o.jsx)("input",{type:"text",value:n,onChange:e=>l(e.target.value),className:i.inputField,placeholder:"@yourusername"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udc19 GitHub Repository"}),(0,o.jsx)("input",{type:"url",value:r,onChange:e=>c(e.target.value),className:i.inputField,placeholder:"https://github.com/user/repo"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcbc LinkedIn"}),(0,o.jsx)("input",{type:"url",value:d,onChange:e=>m(e.target.value),className:i.inputField,placeholder:"https://linkedin.com/company/yourcompany"})]}),(0,o.jsx)("button",{type:"submit",disabled:a,className:i.saveButton,children:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),"Saving..."]}):(0,o.jsx)(o.Fragment,{children:"\ud83d\udcbe Save Social Settings"})})]})]})}function O({settings:e,onSave:t,saving:a}){const[n,l]=(0,s.useState)(void 0===e.enableSearch||e.enableSearch),[r,d]=(0,s.useState)(void 0===e.enableDarkMode||e.enableDarkMode),[m,u]=(0,s.useState)(e.analyticsId||""),[h,p]=(0,s.useState)(e.faviconUrl||""),[g,x]=(0,s.useState)("url"),[v,j]=(0,s.useState)(!1),[y,N]=(0,s.useState)(e.enableCookieConsent||!1),[f,b]=(0,s.useState)({privacyPolicyUrl:e.cookieConsentSettings?.privacyPolicyUrl||"https://unblockedfreegame.com",consentMessage:e.cookieConsentSettings?.consentMessage||"We use cookies to enhance your browsing experience and analyze our traffic. Please choose your cookie preferences.",acceptAllText:e.cookieConsentSettings?.acceptAllText||"Accept All",declineAllText:e.cookieConsentSettings?.declineAllText||"Decline All",managePreferencesText:e.cookieConsentSettings?.managePreferencesText||"Manage Preferences",privacyPolicyText:e.cookieConsentSettings?.privacyPolicyText||"Privacy Policy",position:e.cookieConsentSettings?.position||"bottom",theme:e.cookieConsentSettings?.theme||"light",categories:e.cookieConsentSettings?.categories||{essential:{enabled:!0,required:!0,label:"Essential Cookies",description:"Necessary for the website to function properly."},analytics:{enabled:!0,required:!1,label:"Analytics Cookies",description:"Help us understand how visitors use our website."},marketing:{enabled:!1,required:!1,label:"Marketing Cookies",description:"Used for advertising and marketing purposes."},functional:{enabled:!1,required:!1,label:"Functional Cookies",description:"Enable enhanced functionality and personalization."}},...e.cookieConsentSettings});(0,s.useEffect)((()=>{l(void 0===e.enableSearch||e.enableSearch),d(void 0===e.enableDarkMode||e.enableDarkMode),u(e.analyticsId||""),p(e.faviconUrl||""),N(e.enableCookieConsent||!1),b({privacyPolicyUrl:e.cookieConsentSettings?.privacyPolicyUrl||"https://unblockedfreegame.com",consentMessage:e.cookieConsentSettings?.consentMessage||"We use cookies to enhance your browsing experience and analyze our traffic. Please choose your cookie preferences.",acceptAllText:e.cookieConsentSettings?.acceptAllText||"Accept All",declineAllText:e.cookieConsentSettings?.declineAllText||"Decline All",managePreferencesText:e.cookieConsentSettings?.managePreferencesText||"Manage Preferences",privacyPolicyText:e.cookieConsentSettings?.privacyPolicyText||"Privacy Policy",position:e.cookieConsentSettings?.position||"bottom",theme:e.cookieConsentSettings?.theme||"light",categories:e.cookieConsentSettings?.categories||{essential:{enabled:!0,required:!0,label:"Essential Cookies",description:"Necessary for the website to function properly."},analytics:{enabled:!0,required:!1,label:"Analytics Cookies",description:"Help us understand how visitors use our website."},marketing:{enabled:!1,required:!1,label:"Marketing Cookies",description:"Used for advertising and marketing purposes."},functional:{enabled:!1,required:!1,label:"Functional Cookies",description:"Enable enhanced functionality and personalization."}},...e.cookieConsentSettings})}),[e]);return(0,o.jsxs)("div",{className:i.settingsSection,children:[(0,o.jsx)("h3",{children:"\u2699\ufe0f Advanced Settings"}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({enableSearch:n,enableDarkMode:r,analyticsId:m,faviconUrl:h,enableCookieConsent:y,cookieConsentSettings:f})},children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udfaf Site Favicon"}),(0,o.jsx)("div",{className:i.faviconControls,children:(0,o.jsxs)("div",{className:i.modeSelector,children:[(0,o.jsxs)("label",{className:i.radioLabel,children:[(0,o.jsx)("input",{type:"radio",name:"faviconMode",checked:"url"===g,onChange:()=>x("url")}),(0,o.jsx)("span",{children:"\ud83d\udd17 URL"})]}),(0,o.jsxs)("label",{className:i.radioLabel,children:[(0,o.jsx)("input",{type:"radio",name:"faviconMode",checked:"upload"===g,onChange:()=>x("upload")}),(0,o.jsx)("span",{children:"\ud83d\udcc1 Upload"})]}),(0,o.jsxs)("label",{className:i.radioLabel,children:[(0,o.jsx)("input",{type:"radio",name:"faviconMode",checked:"preset"===g,onChange:()=>x("preset")}),(0,o.jsx)("span",{children:"\ud83c\udfa8 Preset"})]})]})}),"url"===g&&(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),className:i.inputField,placeholder:"https://example.com/favicon.ico"}),(0,o.jsx)("div",{className:i.inputHint,children:"Direct URL to your favicon file (ICO, PNG, or SVG)"})]}),"upload"===g&&(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("input",{type:"file",id:"faviconUpload",onChange:async e=>{const a=e.target.files[0];if(!a)return;j(!0);const s=new FormData;s.append("file",a);try{const e=localStorage.getItem("adminToken"),a=await fetch("/api/admin/media/upload",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:s});if(a.ok){const e=await a.json();p(e.path),t({enableSearch:n,enableDarkMode:r,analyticsId:m,faviconUrl:e.path})}}catch(i){console.error("Failed to upload favicon:",i)}finally{j(!1)}},accept:".ico,.png,.svg",style:{display:"none"}}),(0,o.jsx)("button",{type:"button",className:i.uploadButton,onClick:()=>document.getElementById("faviconUpload").click(),disabled:v,children:v?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.uploadSpinner,children:"\u23f3"}),"Uploading..."]}):(0,o.jsx)(o.Fragment,{children:"\ud83d\udcc1 Choose Favicon File"})}),(0,o.jsx)("div",{className:i.inputHint,children:"Upload ICO, PNG, or SVG file (recommended: 32x32px or 16x16px)"})]}),"preset"===g&&(0,o.jsx)("div",{className:i.presetGrid,children:[{name:"Default Docusaurus",url:"/img/favicon.ico"},{name:"Docusaurus Logo",url:"https://docusaurus.io/img/docusaurus.png"},{name:"Generic Blue",url:'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="%232563eb"/></svg>'},{name:"Generic Green",url:'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="%2316a34a"/></svg>'}].map(((e,t)=>(0,o.jsxs)("div",{className:`${i.presetOption} ${h===e.url?i.selected:""}`,onClick:()=>p(e.url),children:[(0,o.jsx)("img",{src:e.url,alt:e.name,className:i.presetFavicon,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,o.jsx)("div",{className:i.presetError,style:{display:"none"},children:"\u274c"}),(0,o.jsx)("p",{children:e.name})]},t)))}),h&&(0,o.jsxs)("div",{className:i.faviconPreview,children:[(0,o.jsx)("h4",{children:"\ud83d\udd0d Favicon Preview"}),(0,o.jsxs)("div",{className:i.previewContainer,children:[(0,o.jsx)("img",{src:h,alt:"Favicon Preview",className:i.faviconPreviewImage,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,o.jsxs)("div",{className:i.faviconError,style:{display:"none"},children:["\u274c Could not load favicon from: ",h]})]})]})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsxs)("label",{className:i.checkboxLabel,children:[(0,o.jsx)("input",{type:"checkbox",checked:n,onChange:e=>{const a=e.target.checked;l(a),t({enableSearch:a,enableDarkMode:r,analyticsId:m,faviconUrl:h})}}),(0,o.jsx)("span",{children:"\ud83d\udd0d Enable Search"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Allow visitors to search through your content"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsxs)("label",{className:i.checkboxLabel,children:[(0,o.jsx)("input",{type:"checkbox",checked:r,onChange:e=>{const a=e.target.checked;d(a),t({enableSearch:n,enableDarkMode:a,analyticsId:m,faviconUrl:h})}}),(0,o.jsx)("span",{children:"\ud83c\udf19 Enable Dark Mode Toggle"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Show dark/light mode switch in navigation"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcca Google Analytics ID"}),(0,o.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),onBlur:e=>{const a=e.target.value.trim();!a||a.match(/^(G-[A-Z0-9]+|UA-\d+-\d+|GT-[A-Z0-9]+)$/)?t({enableSearch:n,enableDarkMode:r,analyticsId:a,faviconUrl:h}):alert("Invalid Google Analytics ID format. Please use formats like: G-XXXXXXXXXX, UA-XXXXXXXX-X, or GT-XXXXXXXXX")},className:i.inputField,placeholder:"G-XXXXXXXXXX, UA-XXXXXXXXX-X, or GT-XXXXXXXXX"}),(0,o.jsx)("div",{className:i.inputHint,children:"Track visitors and page views with Google Analytics. Supports GA4 (G-), Universal Analytics (UA-), and Google Tag Manager (GT-) formats. Changes are saved automatically."})]}),(0,o.jsxs)("div",{className:i.sectionDivider,children:[(0,o.jsx)("h3",{children:"\ud83c\udf6a Cookie Consent Management"}),(0,o.jsx)("p",{children:"GDPR & CCPA compliant cookie consent system with granular controls"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsxs)("label",{className:i.checkboxLabel,children:[(0,o.jsx)("input",{type:"checkbox",checked:y,onChange:e=>{N(e.target.checked),t({enableSearch:n,enableDarkMode:r,analyticsId:m,faviconUrl:h,enableCookieConsent:e.target.checked,cookieConsentSettings:f})}}),(0,o.jsx)("span",{children:"\ud83c\udf6a Enable Cookie Consent Banner"})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Show GDPR compliant cookie consent banner for users. Automatically manages cookie categories and user preferences."})]}),y&&(0,o.jsxs)("div",{className:i.cookieConsentPanel,children:[(0,o.jsxs)("div",{className:i.cookieSection,children:[(0,o.jsx)("h4",{children:"\ud83c\udfaf Banner Settings"}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcdd Consent Message"}),(0,o.jsx)("textarea",{value:f.consentMessage,onChange:e=>b((t=>({...t,consentMessage:e.target.value}))),className:i.textareaField,rows:3,placeholder:"We use cookies to enhance your browsing experience..."}),(0,o.jsx)("div",{className:i.inputHint,children:"Main message shown in the cookie consent banner"})]}),(0,o.jsxs)("div",{className:i.formRow,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udccd Banner Position"}),(0,o.jsxs)("select",{value:f.position,onChange:e=>b((t=>({...t,position:e.target.value}))),className:i.selectField,children:[(0,o.jsx)("option",{value:"bottom",children:"Bottom"}),(0,o.jsx)("option",{value:"top",children:"Top"})]})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83c\udfa8 Theme"}),(0,o.jsxs)("select",{value:f.theme,onChange:e=>b((t=>({...t,theme:e.target.value}))),className:i.selectField,children:[(0,o.jsx)("option",{value:"light",children:"Light"}),(0,o.jsx)("option",{value:"dark",children:"Dark"})]})]})]})]}),(0,o.jsxs)("div",{className:i.cookieSection,children:[(0,o.jsx)("h4",{children:"\ud83d\udd18 Button Customization"}),(0,o.jsxs)("div",{className:i.formRow,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\u2705 Accept All Button"}),(0,o.jsx)("input",{type:"text",value:f.acceptAllText,onChange:e=>b((t=>({...t,acceptAllText:e.target.value}))),className:i.inputField,placeholder:"Accept All"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\u274c Decline All Button"}),(0,o.jsx)("input",{type:"text",value:f.declineAllText,onChange:e=>b((t=>({...t,declineAllText:e.target.value}))),className:i.inputField,placeholder:"Decline All"})]})]}),(0,o.jsxs)("div",{className:i.formRow,children:[(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\u2699\ufe0f Manage Preferences Button"}),(0,o.jsx)("input",{type:"text",value:f.managePreferencesText,onChange:e=>b((t=>({...t,managePreferencesText:e.target.value}))),className:i.inputField,placeholder:"Manage Preferences"})]}),(0,o.jsxs)("div",{className:i.formGroup,children:[(0,o.jsx)("label",{children:"\ud83d\udcc4 Privacy Policy Link"}),(0,o.jsx)("input",{type:"text",value:f.privacyPolicyUrl,onChange:e=>b((t=>({...t,privacyPolicyUrl:e.target.value}))),className:i.inputField,placeholder:"https://yoursite.com/privacy-policy"})]})]})]}),(0,o.jsxs)("div",{className:i.cookieSection,children:[(0,o.jsx)("h4",{children:"\ud83c\udfaf Cookie Categories"}),(0,o.jsx)("p",{className:i.sectionDescription,children:"Configure individual cookie categories. Essential cookies are always required and cannot be disabled."}),(0,o.jsx)("div",{className:i.categoriesGrid,children:Object.entries(f.categories).map((([e,t])=>(0,o.jsxs)("div",{className:`${i.categoryCard} ${t.required?i.requiredCategory:""}`,children:[(0,o.jsxs)("div",{className:i.categoryHeader,children:[(0,o.jsxs)("div",{className:i.categoryInfo,children:[(0,o.jsxs)("h5",{children:[c(e)," ",t.label]}),t.required&&(0,o.jsx)("span",{className:i.requiredBadge,children:"Required"})]}),(0,o.jsxs)("label",{className:i.categoryToggle,children:[(0,o.jsx)("input",{type:"checkbox",checked:t.enabled,onChange:t=>b((a=>({...a,categories:{...a.categories,[e]:{...a.categories[e],enabled:t.target.checked}}}))),disabled:t.required,className:i.toggleInput}),(0,o.jsx)("span",{className:`${i.toggleSlider} ${t.required?i.toggleDisabled:""}`})]})]}),(0,o.jsx)("div",{className:i.categoryContent,children:(0,o.jsx)("textarea",{value:t.description,onChange:t=>b((a=>({...a,categories:{...a.categories,[e]:{...a.categories[e],description:t.target.value}}}))),className:i.categoryDescription,rows:2,placeholder:"Describe what this category is used for..."})})]},e)))})]}),(0,o.jsxs)("div",{className:i.cookieSection,children:[(0,o.jsx)("h4",{children:"\ud83d\udd0d Preview & Testing"}),(0,o.jsxs)("div",{className:i.previewActions,children:[(0,o.jsx)("button",{type:"button",className:i.previewButton,onClick:()=>{localStorage.removeItem("cookie-consent-preferences"),window.location.reload()},children:"\ud83d\udd04 Test Cookie Banner"}),(0,o.jsx)("button",{type:"button",className:i.previewButton,onClick:()=>{window.dispatchEvent(new CustomEvent("showCookiePreferences"))},children:"\u2699\ufe0f Preview Preferences Modal"})]}),(0,o.jsx)("div",{className:i.inputHint,children:'Use these buttons to test how the cookie consent system appears to users. The "Test Cookie Banner" button will reset consent and reload the page.'})]}),(0,o.jsxs)("div",{className:i.cookieSection,children:[(0,o.jsx)("h4",{children:"\ud83d\udcca Consent Statistics"}),(0,o.jsxs)("div",{className:i.statsGrid,children:[(0,o.jsxs)("div",{className:i.statCard,children:[(0,o.jsx)("div",{className:i.statValue,children:"-"}),(0,o.jsx)("div",{className:i.statLabel,children:"Total Consents"})]}),(0,o.jsxs)("div",{className:i.statCard,children:[(0,o.jsx)("div",{className:i.statValue,children:"-"}),(0,o.jsx)("div",{className:i.statLabel,children:"Accept Rate"})]}),(0,o.jsxs)("div",{className:i.statCard,children:[(0,o.jsx)("div",{className:i.statValue,children:"-"}),(0,o.jsx)("div",{className:i.statLabel,children:"Decline Rate"})]}),(0,o.jsxs)("div",{className:i.statCard,children:[(0,o.jsx)("div",{className:i.statValue,children:"-"}),(0,o.jsx)("div",{className:i.statLabel,children:"Customized"})]})]}),(0,o.jsx)("div",{className:i.inputHint,children:"Cookie consent statistics will be available in future updates. Currently showing placeholder values."})]})]}),(0,o.jsx)("button",{type:"submit",disabled:a,className:i.saveButton,children:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:i.saveSpinner,children:"\u23f3"}),"Saving..."]}):(0,o.jsx)(o.Fragment,{children:"\ud83d\udcbe Save Advanced Settings"})})]})]})}function X(){const{loading:e,isAuthenticated:t}=(0,s.useContext)(l);return e?(0,o.jsx)("div",{className:i.loadingContainer,children:(0,o.jsx)("div",{className:i.loading,children:"Loading..."})}):(0,o.jsx)("div",{className:i.adminWrapper,children:t?(0,o.jsx)(p,{}):(0,o.jsx)(h,{})})}}}]);